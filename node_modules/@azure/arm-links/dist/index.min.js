"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline"),tslib=require("tslib");function _interopNamespace(i){if(i&&i.__esModule)return i;var r=Object.create(null);return i&&Object.keys(i).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(i,e),Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return i[e]}}))}),r.default=i,Object.freeze(r)}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);const OperationListResult={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},Operation={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},ResourceLink={type:{name:"Composite",className:"ResourceLink",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}},properties:{serializedName:"properties",type:{name:"Composite",className:"ResourceLinkProperties"}}}}},ResourceLinkProperties={type:{name:"Composite",className:"ResourceLinkProperties",modelProperties:{sourceId:{serializedName:"sourceId",readOnly:!0,type:{name:"String"}},targetId:{serializedName:"targetId",required:!0,type:{name:"String"}},notes:{serializedName:"notes",type:{name:"String"}}}}},ResourceLinkResult={type:{name:"Composite",className:"ResourceLinkResult",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ResourceLink"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},ResourceLinkFilter={type:{name:"Composite",className:"ResourceLinkFilter",modelProperties:{targetId:{serializedName:"targetId",required:!0,type:{name:"String"}}}}};var Mappers=Object.freeze({__proto__:null,OperationListResult:OperationListResult,Operation:Operation,OperationDisplay:OperationDisplay,ResourceLink:ResourceLink,ResourceLinkProperties:ResourceLinkProperties,ResourceLinkResult:ResourceLinkResult,ResourceLinkFilter:ResourceLinkFilter});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2016-09-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},linkId={parameterPath:"linkId",mapper:{serializedName:"linkId",required:!0,type:{name:"String"}},skipEncoding:!0},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},parameters={parameterPath:"parameters",mapper:ResourceLink},filter={parameterPath:["options","filter"],mapper:{serializedName:"$filter",type:{name:"String"}}},subscriptionId={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},scope={parameterPath:"scope",mapper:{serializedName:"scope",required:!0,type:{name:"String"}},skipEncoding:!0},filter1={parameterPath:["options","filter"],mapper:{defaultValue:"atScope()",isConstant:!0,serializedName:"$filter",type:{name:"String"}}};class OperationsImpl{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listPagingPage(e)}}listPagingPage(i){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(i));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listNext(t,i)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listPagingAll(s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,r=tslib.__asyncValues(this.listPagingPage(s));!(i=yield tslib.__await(r.next())).done;){var a=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(a)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/providers/Microsoft.Resources/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$1},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult}},queryParameters:[apiVersion],urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer$1};class ResourceLinksImpl{constructor(e){this.client=e}listAtSubscription(e){const t=this.listAtSubscriptionPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listAtSubscriptionPagingPage(e)}}listAtSubscriptionPagingPage(i){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._listAtSubscription(i));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listAtSubscriptionNext(t,i)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listAtSubscriptionPagingAll(s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,r=tslib.__asyncValues(this.listAtSubscriptionPagingPage(s));!(i=yield tslib.__await(r.next())).done;){var a=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(a)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}listAtSourceScope(e,t){const i=this.listAtSourceScopePagingAll(e,t);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listAtSourceScopePagingPage(e,t)}}listAtSourceScopePagingPage(i,r){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._listAtSourceScope(i,r));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listAtSourceScopeNext(i,t,r)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listAtSourceScopePagingAll(s,n){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,r=tslib.__asyncValues(this.listAtSourceScopePagingPage(s,n));!(i=yield tslib.__await(r.next())).done;){var a=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(a)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}delete(e,t){return this.client.sendOperationRequest({linkId:e,options:t},deleteOperationSpec)}createOrUpdate(e,t,i){return this.client.sendOperationRequest({linkId:e,parameters:t,options:i},createOrUpdateOperationSpec)}get(e,t){return this.client.sendOperationRequest({linkId:e,options:t},getOperationSpec)}_listAtSubscription(e){return this.client.sendOperationRequest({options:e},listAtSubscriptionOperationSpec)}_listAtSourceScope(e,t){return this.client.sendOperationRequest({scope:e,options:t},listAtSourceScopeOperationSpec)}_listAtSubscriptionNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listAtSubscriptionNextOperationSpec)}_listAtSourceScopeNext(e,t,i){return this.client.sendOperationRequest({scope:e,nextLink:t,options:i},listAtSourceScopeNextOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),deleteOperationSpec={path:"/{linkId}",httpMethod:"DELETE",responses:{200:{},204:{}},queryParameters:[apiVersion],urlParameters:[$host,linkId],serializer:serializer},createOrUpdateOperationSpec={path:"/{linkId}",httpMethod:"PUT",responses:{200:{bodyMapper:ResourceLink},201:{bodyMapper:ResourceLink}},requestBody:parameters,queryParameters:[apiVersion],urlParameters:[$host,linkId],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},getOperationSpec={path:"/{linkId}",httpMethod:"GET",responses:{200:{bodyMapper:ResourceLink}},queryParameters:[apiVersion],urlParameters:[$host,linkId],headerParameters:[accept],serializer:serializer},listAtSubscriptionOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/links",httpMethod:"GET",responses:{200:{bodyMapper:ResourceLinkResult}},queryParameters:[apiVersion,filter],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer},listAtSourceScopeOperationSpec={path:"/{scope}/providers/Microsoft.Resources/links",httpMethod:"GET",responses:{200:{bodyMapper:ResourceLinkResult}},queryParameters:[apiVersion,filter1],urlParameters:[$host,scope],headerParameters:[accept],serializer:serializer},listAtSubscriptionNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ResourceLinkResult}},queryParameters:[apiVersion,filter],urlParameters:[$host,nextLink,subscriptionId],headerParameters:[accept],serializer:serializer},listAtSourceScopeNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ResourceLinkResult}},queryParameters:[apiVersion,filter1],urlParameters:[$host,nextLink,scope],headerParameters:[accept],serializer:serializer};class ManagementLinkClient extends coreClient__namespace.ServiceClient{constructor(e,t,i){if(void 0===e)throw new Error("'credentials' cannot be null");if(void 0===t)throw new Error("'subscriptionId' cannot be null");var e={requestContentType:"application/json; charset=utf-8",credential:e},r="azsdk-js-arm-links/2.0.2",r=(i=i||{}).userAgentOptions&&i.userAgentOptions.userAgentPrefix?i.userAgentOptions.userAgentPrefix+" "+r:r,e=(i.credentialScopes||(i.credentialScopes=["https://management.azure.com/.default"]),Object.assign(Object.assign(Object.assign({},e),i),{userAgentOptions:{userAgentPrefix:r},baseUri:null!=(r=null!=(e=i.endpoint)?e:i.baseUri)?r:"https://management.azure.com"}));if(super(e),null!=i&&i.pipeline&&0<i.pipeline.getOrderedPolicies().length){const a=i.pipeline.getOrderedPolicies();a.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({scopes:e.baseUri+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}})))}this.subscriptionId=t,this.$host=i.$host||"https://management.azure.com",this.apiVersion=i.apiVersion||"2016-09-01",this.operations=new OperationsImpl(this),this.resourceLinks=new ResourceLinksImpl(this)}}exports.ManagementLinkClient=ManagementLinkClient;