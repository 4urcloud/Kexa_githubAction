"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib");require("@azure/core-paging");var coreClient=require("@azure/core-client"),coreLro=require("@azure/core-lro");!function(e){e.Provisioning="Provisioning",e.Deleting="Deleting",e.Succeeded="Succeeded",e.Failed="Failed",e.Canceled="Canceled"}(exports.KnownProvisioningState||(exports.KnownProvisioningState={})),function(e){e.F1="F1",e.S1="S1",e.S2="S2",e.S3="S3"}(exports.KnownIoTSpacesSku||(exports.KnownIoTSpacesSku={}));const IoTSpacesProperties={type:{name:"Composite",className:"IoTSpacesProperties",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},managementApiUrl:{serializedName:"managementApiUrl",readOnly:!0,type:{name:"String"}},webPortalUrl:{serializedName:"webPortalUrl",readOnly:!0,type:{name:"String"}},storageContainer:{serializedName:"storageContainer",type:{name:"Composite",className:"StorageContainerProperties"}}}}},StorageContainerProperties={type:{name:"Composite",className:"StorageContainerProperties",modelProperties:{connectionString:{serializedName:"connectionString",type:{name:"String"}},subscriptionId:{serializedName:"subscriptionId",type:{name:"String"}},resourceGroup:{serializedName:"resourceGroup",type:{name:"String"}},containerName:{serializedName:"containerName",type:{name:"String"}}}}},IoTSpacesSkuInfo={type:{name:"Composite",className:"IoTSpacesSkuInfo",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}}}}},Resource={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{constraints:{Pattern:new RegExp("^(?![0-9]+$)(?!-)[a-zA-Z0-9-]{2,49}[a-zA-Z0-9]$")},serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",required:!0,type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},ErrorDetails={type:{name:"Composite",className:"ErrorDetails",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}}}}},IoTSpacesPatchDescription={type:{name:"Composite",className:"IoTSpacesPatchDescription",modelProperties:{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},properties:{serializedName:"properties",type:{name:"Composite",className:"IoTSpacesProperties"}}}}},IoTSpacesDescriptionListResult={type:{name:"Composite",className:"IoTSpacesDescriptionListResult",modelProperties:{nextLink:{serializedName:"nextLink",type:{name:"String"}},value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"IoTSpacesDescription"}}}}}}},OperationListResult={type:{name:"Composite",className:"OperationListResult",modelProperties:{nextLink:{serializedName:"nextLink",type:{name:"String"}},value:{serializedName:"value",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}}}}},Operation={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",readOnly:!0,type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",readOnly:!0,type:{name:"String"}},resource:{serializedName:"resource",readOnly:!0,type:{name:"String"}},operation:{serializedName:"operation",readOnly:!0,type:{name:"String"}},description:{serializedName:"description",readOnly:!0,type:{name:"String"}}}}},OperationInputs={type:{name:"Composite",className:"OperationInputs",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}}}}},IoTSpacesNameAvailabilityInfo={type:{name:"Composite",className:"IoTSpacesNameAvailabilityInfo",modelProperties:{nameAvailable:{serializedName:"nameAvailable",readOnly:!0,type:{name:"Boolean"}},reason:{serializedName:"reason",readOnly:!0,type:{name:"Enum",allowedValues:["Invalid","AlreadyExists"]}},message:{serializedName:"message",type:{name:"String"}}}}},IoTSpacesDescription={type:{name:"Composite",className:"IoTSpacesDescription",modelProperties:Object.assign(Object.assign({},Resource.type.modelProperties),{properties:{serializedName:"properties",type:{name:"Composite",className:"IoTSpacesProperties"}},sku:{serializedName:"sku",type:{name:"Composite",className:"IoTSpacesSkuInfo"}}})}};var Mappers=Object.freeze({__proto__:null,IoTSpacesProperties:IoTSpacesProperties,StorageContainerProperties:StorageContainerProperties,IoTSpacesSkuInfo:IoTSpacesSkuInfo,Resource:Resource,ErrorDetails:ErrorDetails,IoTSpacesPatchDescription:IoTSpacesPatchDescription,IoTSpacesDescriptionListResult:IoTSpacesDescriptionListResult,OperationListResult:OperationListResult,Operation:Operation,OperationDisplay:OperationDisplay,OperationInputs:OperationInputs,IoTSpacesNameAvailabilityInfo:IoTSpacesNameAvailabilityInfo,IoTSpacesDescription:IoTSpacesDescription});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2017-10-01-preview",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},subscriptionId={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"Uuid"}}},resourceGroupName={parameterPath:"resourceGroupName",mapper:{constraints:{MaxLength:64,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},resourceName={parameterPath:"resourceName",mapper:{constraints:{MaxLength:64,MinLength:1},serializedName:"resourceName",required:!0,type:{name:"String"}}},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},iotSpaceDescription={parameterPath:"iotSpaceDescription",mapper:IoTSpacesDescription},iotSpacePatchDescription={parameterPath:"iotSpacePatchDescription",mapper:IoTSpacesPatchDescription},operationInputs={parameterPath:"operationInputs",mapper:OperationInputs},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0};function getResponseStatus(e){var t;const{status:i}=null!==(t=e.parsedBody)&&void 0!==t?t:e.bodyAsText?JSON.parse(e.bodyAsText):{};return null!==(e=null===i||void 0===i?void 0:i.toLowerCase())&&void 0!==e?e:"succeeded"}function isAzureAsyncPollingDone(e){e=getResponseStatus(e);if(failureStates.includes(e))throw new Error(`Operation status: ${e}`);return successStates.includes(e)}function processAzureAsyncOperationResult(r,s,a){return(t,i)=>isAzureAsyncPollingDone(t)?void 0===s?{rawResponse:t,flatResponse:i,done:!0}:{rawResponse:t,flatResponse:i,done:!1,next:()=>tslib.__awaiter(this,void 0,void 0,function*(){var e=yield function(){return tslib.__awaiter(this,void 0,void 0,function*(){switch(a){case"original-uri":return r();case"azure-async-operation":return Promise.resolve(void 0);case"location":default:return r(s)}})}();return Object.assign(Object.assign({},null!=e?e:{rawResponse:t,flatResponse:i}),{done:!0})})}:{rawResponse:t,flatResponse:i,done:!1}}function getProvisioningState(e){var{properties:t,provisioningState:e}=null!==(t=e.parsedBody)&&void 0!==t?t:e.bodyAsText?JSON.parse(e.bodyAsText):{};const i=null!==(t=null==t?void 0:t.provisioningState)&&void 0!==t?t:e;return null!==(e=null===i||void 0===i?void 0:i.toLowerCase())&&void 0!==e?e:"succeeded"}function isBodyPollingDone(e){e=getProvisioningState(e);if(failureStates.includes(e))throw new Error(`Provisioning state: ${e}`);return successStates.includes(e)}function processBodyPollingOperationResult(e,t){return{rawResponse:e,flatResponse:t,done:isBodyPollingDone(e)}}function isLocationPollingDone(e){e=e.status;if(![202,200].includes(e))throw new Error("Operation failed");return 202!==e}function processLocationPollingOperationResult(e,t){return{rawResponse:e,flatResponse:t,done:isLocationPollingDone(e)}}function processPassthroughOperationResult(e,t){return{rawResponse:e,flatResponse:t,done:!0}}function createPollingMethod(t,r,e,i){const{responses:s}=e,a=tslib.__rest(e,["requestBody","responses"]);return"AzureAsync"===i?e=>tslib.__awaiter(this,void 0,void 0,function*(){return t(r,Object.assign(Object.assign(Object.assign({},a),{responses:(i=s,Object.keys(i).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},i[t]),{bodyMapper:{type:{name:"Composite",modelProperties:{status:{serializedName:"status",type:{name:"String"}}}}}})}),{})),httpMethod:"GET"}),e&&{path:e}));var i}):e=>tslib.__awaiter(this,void 0,void 0,function*(){return t(r,Object.assign(Object.assign(Object.assign({},a),{responses:s,httpMethod:"GET"}),e&&{path:e}))})}function createRetrieveAzureAsyncResource(e,t,i){const r=Object.assign({},t);return r.options&&(r.options.shouldDeserialize=!0),createPollingMethod(e,r,i)}const successStates=["succeeded"],failureStates=["failed","canceled","cancelled"];function createTransition(e,t,i,r,s){switch(r.mode){case"AzureAsync":return processAzureAsyncOperationResult(createRetrieveAzureAsyncResource(e,t,i),r.resourceLocation,s);case"Location":return processLocationPollingOperationResult;case"Body":return processBodyPollingOperationResult;default:return processPassthroughOperationResult}}function createGetLROState(e,t,i,r,s){const a=createTransition(e,t,i,r,s),o=null===(s=null==t?void 0:t.options)||void 0===s?void 0:s.onResponse;let n=void 0,p=void 0;const l=createPollingMethod(e,Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{n=a(e,t),p=e.headers.get("Retry-After"),n.done&&null!==o&&void 0!==o&&o(e,t)}})}),i,r.mode);return(t,i)=>tslib.__awaiter(this,void 0,void 0,function*(){var e;return yield l(t),void 0!==p&&(e=parseInt(p),i.intervalInMs=isNaN(e)?calculatePollingIntervalFromDate(new Date(p),i.intervalInMs):e),n})}function calculatePollingIntervalFromDate(e,t){var i=Math.floor((new Date).getTime()),e=e.getTime();return i<e?e-i:t}function initializeState(i,r,s){return(e,t)=>{i.initialRawResponse=e,i.isStarted=!0,i.pollingURL=getPollingURL(i.initialRawResponse,getSpecPath(r)),i.config=inferLROMode(r,i.initialRawResponse),(void 0===i.config.mode||"Body"===i.config.mode&&isBodyPollingDone(i.initialRawResponse))&&(i.result=t,i.isCompleted=!0,null!=s&&s(e,t))}}function getPollingURL(e,t){var i;return null!==(e=null!==(i=null!==(i=getAzureAsyncoperation(e))&&void 0!==i?i:getLocation(e))&&void 0!==i?i:getOperationLocation(e))&&void 0!==e?e:t}function getLocation(e){return null===(e=e.headers)||void 0===e?void 0:e.get("location")}function getOperationLocation(e){return null===(e=e.headers)||void 0===e?void 0:e.get("operation-location")}function getAzureAsyncoperation(e){return null===(e=e.headers)||void 0===e?void 0:e.get("azure-asyncoperation")}function inferLROMode(e,t){var i=e.httpMethod;return void 0!==getAzureAsyncoperation(t)?{mode:"AzureAsync",resourceLocation:"PUT"===i?e.path:"POST"===i?getLocation(t):void 0}:void 0!==getLocation(t)||void 0!==getOperationLocation(t)?{mode:"Location"}:["PUT","PATCH"].includes(i)?{mode:"Body"}:{}}function getSpecPath(e){if(e.path)return e.path;throw Error("Bad spec: request path is not found!")}class GenericPollOperation{constructor(e,t,i,r,s){this.state=e,this.initialOperationArguments=t,this.initialOperationSpec=i,this.sendOperation=r,this.finalStateVia=s}setPollerConfig(e){this.pollerConfig=e}update(r){var s;return tslib.__awaiter(this,void 0,void 0,function*(){const e=this.state;var t=this.initialOperationArguments.options||{},{onResponse:i}=t,t=tslib.__rest(t,["onResponse"]);if(e.isStarted||(yield this.sendOperation(Object.assign(Object.assign({},this.initialOperationArguments),{options:Object.assign(Object.assign({},t),{onResponse:initializeState(e,this.initialOperationSpec,i)})}),this.initialOperationSpec)),!e.isCompleted){if(void 0===this.getLROState){if(void 0===e.config)throw new Error("Bad state: LRO mode is undefined");this.getLROState=createGetLROState(this.sendOperation,this.initialOperationArguments,this.initialOperationSpec,e.config,this.finalStateVia)}if(void 0===e.pollingURL)throw new Error("Bad state: polling URL is undefined");i=yield this.getLROState(e.pollingURL,this.pollerConfig);i.done?(e.result=i.flatResponse,e.isCompleted=!0):(this.getLROState=null!==(s=i.next)&&void 0!==s?s:this.getLROState,e.pollingURL=getPollingURL(i.rawResponse,e.pollingURL))}return void 0!==(null==r?void 0:r.fireProgress)&&r.fireProgress(e),this})}cancel(){return tslib.__awaiter(this,void 0,void 0,function*(){return this.state.isCancelled=!0,this})}toString(){return JSON.stringify({state:this.state})}}class LROPoller extends coreLro.Poller{constructor({intervalInMs:e=2e3,resumeFrom:t},i,r,s,a){t=t?JSON.parse(t).state:{};const o=new GenericPollOperation(t,i,r,s,a);super(o),this.intervalInMs=e,o.setPollerConfig(this)}delay(){return new Promise(e=>setTimeout(()=>e(),this.intervalInMs))}}class IoTSpacesImpl{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listPagingPage(e)}}listPagingPage(i){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(i));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listNext(t,i)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listPagingAll(a){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,r=tslib.__asyncValues(this.listPagingPage(a));!(i=yield tslib.__await(r.next())).done;){var s=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(s)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}listByResourceGroup(e,t){const i=this.listByResourceGroupPagingAll(e,t);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listByResourceGroupPagingPage(e,t)}}listByResourceGroupPagingPage(i,r){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._listByResourceGroup(i,r));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listByResourceGroupNext(i,t,r)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listByResourceGroupPagingAll(a,o){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,r=tslib.__asyncValues(this.listByResourceGroupPagingPage(a,o));!(i=yield tslib.__await(r.next())).done;){var s=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(s)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}get(e,t,i){return this.client.sendOperationRequest({resourceGroupName:e,resourceName:t,options:i},getOperationSpec)}beginCreateOrUpdate(e,t,i,r){return tslib.__awaiter(this,void 0,void 0,function*(){const a=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});return new LROPoller({intervalInMs:null==r?void 0:r.updateIntervalInMs},{resourceGroupName:e,resourceName:t,iotSpaceDescription:i,options:r},createOrUpdateOperationSpec,(t,s)=>tslib.__awaiter(this,void 0,void 0,function*(){let i=void 0;const r=null===(e=t.options)||void 0===e?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{i=e,null!==r&&void 0!==r&&r(e,t)}})});return{flatResponse:yield a(e,s),rawResponse:i}}))})}beginCreateOrUpdateAndWait(t,i,r,s){return tslib.__awaiter(this,void 0,void 0,function*(){const e=yield this.beginCreateOrUpdate(t,i,r,s);return e.pollUntilDone()})}beginUpdate(e,t,i,r){return tslib.__awaiter(this,void 0,void 0,function*(){const a=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});return new LROPoller({intervalInMs:null==r?void 0:r.updateIntervalInMs},{resourceGroupName:e,resourceName:t,iotSpacePatchDescription:i,options:r},updateOperationSpec,(t,s)=>tslib.__awaiter(this,void 0,void 0,function*(){let i=void 0;const r=null===(e=t.options)||void 0===e?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{i=e,null!==r&&void 0!==r&&r(e,t)}})});return{flatResponse:yield a(e,s),rawResponse:i}}))})}beginUpdateAndWait(t,i,r,s){return tslib.__awaiter(this,void 0,void 0,function*(){const e=yield this.beginUpdate(t,i,r,s);return e.pollUntilDone()})}beginDelete(e,t,i){return tslib.__awaiter(this,void 0,void 0,function*(){const a=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});return new LROPoller({intervalInMs:null==i?void 0:i.updateIntervalInMs},{resourceGroupName:e,resourceName:t,options:i},deleteOperationSpec,(t,s)=>tslib.__awaiter(this,void 0,void 0,function*(){let i=void 0;const r=null===(e=t.options)||void 0===e?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{i=e,null!==r&&void 0!==r&&r(e,t)}})});return{flatResponse:yield a(e,s),rawResponse:i}}))})}beginDeleteAndWait(t,i,r){return tslib.__awaiter(this,void 0,void 0,function*(){const e=yield this.beginDelete(t,i,r);return e.pollUntilDone()})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listByResourceGroup(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},listByResourceGroupOperationSpec)}checkNameAvailability(e,t){return this.client.sendOperationRequest({operationInputs:e,options:t},checkNameAvailabilityOperationSpec)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec)}_listByResourceGroupNext(e,t,i){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:t,options:i},listByResourceGroupNextOperationSpec)}}const serializer=coreClient.createSerializer(Mappers,!1),getOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.IoTSpaces/Graph/{resourceName}",httpMethod:"GET",responses:{200:{bodyMapper:IoTSpacesDescription},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,resourceName],headerParameters:[accept],serializer:serializer},createOrUpdateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.IoTSpaces/Graph/{resourceName}",httpMethod:"PUT",responses:{200:{bodyMapper:IoTSpacesDescription},201:{bodyMapper:IoTSpacesDescription},202:{bodyMapper:IoTSpacesDescription},204:{bodyMapper:IoTSpacesDescription},default:{bodyMapper:ErrorDetails}},requestBody:iotSpaceDescription,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,resourceName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},updateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.IoTSpaces/Graph/{resourceName}",httpMethod:"PATCH",responses:{200:{bodyMapper:IoTSpacesDescription},201:{bodyMapper:IoTSpacesDescription},202:{bodyMapper:IoTSpacesDescription},204:{bodyMapper:IoTSpacesDescription},default:{bodyMapper:ErrorDetails}},requestBody:iotSpacePatchDescription,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,resourceName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},deleteOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.IoTSpaces/Graph/{resourceName}",httpMethod:"DELETE",responses:{200:{bodyMapper:IoTSpacesDescription},201:{bodyMapper:IoTSpacesDescription},202:{bodyMapper:IoTSpacesDescription},204:{bodyMapper:IoTSpacesDescription},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,resourceName],headerParameters:[accept],serializer:serializer},listOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.IoTSpaces/Graph",httpMethod:"GET",responses:{200:{bodyMapper:IoTSpacesDescriptionListResult},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer},listByResourceGroupOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.IoTSpaces/Graph",httpMethod:"GET",responses:{200:{bodyMapper:IoTSpacesDescriptionListResult},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName],headerParameters:[accept],serializer:serializer},checkNameAvailabilityOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.IoTSpaces/checkNameAvailability",httpMethod:"POST",responses:{200:{bodyMapper:IoTSpacesNameAvailabilityInfo},default:{bodyMapper:ErrorDetails}},requestBody:operationInputs,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:IoTSpacesDescriptionListResult},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,nextLink],headerParameters:[accept],serializer:serializer},listByResourceGroupNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:IoTSpacesDescriptionListResult},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,nextLink],headerParameters:[accept],serializer:serializer};class OperationsImpl{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listPagingPage(e)}}listPagingPage(i){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(i));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listNext(t,i)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listPagingAll(a){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var i,r=tslib.__asyncValues(this.listPagingPage(a));!(i=yield tslib.__await(r.next())).done;){var s=i.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(s)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&(yield tslib.__await(e.call(r)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$1)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec$1)}}const serializer$1=coreClient.createSerializer(Mappers,!1),listOperationSpec$1={path:"/providers/Microsoft.IoTSpaces/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$1},listNextOperationSpec$1={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult},default:{bodyMapper:ErrorDetails}},queryParameters:[apiVersion],urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer$1};class IoTSpacesClientContext extends coreClient.ServiceClient{constructor(e,t,i){if(void 0===e)throw new Error("'credentials' cannot be null");if(void 0===t)throw new Error("'subscriptionId' cannot be null");var r={requestContentType:"application/json; charset=utf-8",credential:e},e="azsdk-js-arm-iotspaces/1.0.0-beta.1",e=(i=i||{}).userAgentOptions&&i.userAgentOptions.userAgentPrefix?`${i.userAgentOptions.userAgentPrefix} ${e}`:`${e}`;i.credentialScopes||(i.credentialScopes=["https://management.azure.com/.default"]),super(Object.assign(Object.assign(Object.assign({},r),i),{userAgentOptions:{userAgentPrefix:e},baseUri:i.endpoint||"https://management.azure.com"})),this.subscriptionId=t,this.$host=i.$host||"https://management.azure.com",this.apiVersion=i.apiVersion||"2017-10-01-preview"}}class IoTSpacesClient extends IoTSpacesClientContext{constructor(e,t,i){super(e,t,i),this.ioTSpaces=new IoTSpacesImpl(this),this.operations=new OperationsImpl(this)}}exports.IoTSpacesClient=IoTSpacesClient,exports.IoTSpacesClientContext=IoTSpacesClientContext;