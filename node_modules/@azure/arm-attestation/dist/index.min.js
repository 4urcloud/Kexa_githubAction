"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline");function _interopNamespace(r){var i;return r&&r.__esModule?r:(i=Object.create(null),r&&Object.keys(r).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(r,e),Object.defineProperty(i,e,t.get?t:{enumerable:!0,get:function(){return r[e]}}))}),i.default=r,Object.freeze(i))}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);const pageMap=new WeakMap;function getContinuationToken(e){return"object"!=typeof e||null===e||null==(e=pageMap.get(e))?void 0:e.continuationToken}exports.KnownCreatedByType=void 0,function(e){e.User="User",e.Application="Application",e.ManagedIdentity="ManagedIdentity",e.Key="Key"}(exports.KnownCreatedByType||(exports.KnownCreatedByType={})),exports.KnownAttestationServiceStatus=void 0,function(e){e.Ready="Ready",e.NotReady="NotReady",e.Error="Error"}(exports.KnownAttestationServiceStatus||(exports.KnownAttestationServiceStatus={})),exports.KnownPrivateEndpointServiceConnectionStatus=void 0,function(e){e.Pending="Pending",e.Approved="Approved",e.Rejected="Rejected"}(exports.KnownPrivateEndpointServiceConnectionStatus||(exports.KnownPrivateEndpointServiceConnectionStatus={})),exports.KnownPrivateEndpointConnectionProvisioningState=void 0,function(e){e.Succeeded="Succeeded",e.Creating="Creating",e.Deleting="Deleting",e.Failed="Failed"}(exports.KnownPrivateEndpointConnectionProvisioningState||(exports.KnownPrivateEndpointConnectionProvisioningState={}));const OperationList={type:{name:"Composite",className:"OperationList",modelProperties:{systemData:{serializedName:"systemData",type:{name:"Composite",className:"SystemData"}},value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"OperationsDefinition"}}}}}}},SystemData={type:{name:"Composite",className:"SystemData",modelProperties:{createdBy:{serializedName:"createdBy",type:{name:"String"}},createdByType:{serializedName:"createdByType",type:{name:"String"}},createdAt:{serializedName:"createdAt",type:{name:"DateTime"}},lastModifiedBy:{serializedName:"lastModifiedBy",type:{name:"String"}},lastModifiedByType:{serializedName:"lastModifiedByType",type:{name:"String"}},lastModifiedAt:{serializedName:"lastModifiedAt",type:{name:"DateTime"}}}}},OperationsDefinition={type:{name:"Composite",className:"OperationsDefinition",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationsDisplayDefinition"}}}}},OperationsDisplayDefinition={type:{name:"Composite",className:"OperationsDisplayDefinition",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},CloudError={type:{name:"Composite",className:"CloudError",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"CloudErrorBody"}}}}},CloudErrorBody={type:{name:"Composite",className:"CloudErrorBody",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}}}}},PrivateEndpoint={type:{name:"Composite",className:"PrivateEndpoint",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}}}}},PrivateLinkServiceConnectionState={type:{name:"Composite",className:"PrivateLinkServiceConnectionState",modelProperties:{status:{serializedName:"status",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},actionsRequired:{serializedName:"actionsRequired",type:{name:"String"}}}}},Resource={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}}}}},AttestationServiceCreationParams={type:{name:"Composite",className:"AttestationServiceCreationParams",modelProperties:{location:{serializedName:"location",required:!0,type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},properties:{serializedName:"properties",type:{name:"Composite",className:"AttestationServiceCreationSpecificParams"}}}}},AttestationServiceCreationSpecificParams={type:{name:"Composite",className:"AttestationServiceCreationSpecificParams",modelProperties:{policySigningCertificates:{serializedName:"policySigningCertificates",type:{name:"Composite",className:"JsonWebKeySet"}}}}},JsonWebKeySet={type:{name:"Composite",className:"JsonWebKeySet",modelProperties:{keys:{serializedName:"keys",type:{name:"Sequence",element:{type:{name:"Composite",className:"JsonWebKey"}}}}}}},JsonWebKey={type:{name:"Composite",className:"JsonWebKey",modelProperties:{alg:{serializedName:"alg",type:{name:"String"}},crv:{serializedName:"crv",type:{name:"String"}},d:{serializedName:"d",type:{name:"String"}},dp:{serializedName:"dp",type:{name:"String"}},dq:{serializedName:"dq",type:{name:"String"}},e:{serializedName:"e",type:{name:"String"}},k:{serializedName:"k",type:{name:"String"}},kid:{serializedName:"kid",type:{name:"String"}},kty:{serializedName:"kty",required:!0,type:{name:"String"}},n:{serializedName:"n",type:{name:"String"}},p:{serializedName:"p",type:{name:"String"}},q:{serializedName:"q",type:{name:"String"}},qi:{serializedName:"qi",type:{name:"String"}},use:{serializedName:"use",type:{name:"String"}},x:{serializedName:"x",type:{name:"String"}},x5C:{serializedName:"x5c",type:{name:"Sequence",element:{type:{name:"String"}}}},y:{serializedName:"y",type:{name:"String"}}}}},AttestationServicePatchParams={type:{name:"Composite",className:"AttestationServicePatchParams",modelProperties:{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},PrivateEndpointConnectionListResult={type:{name:"Composite",className:"PrivateEndpointConnectionListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"PrivateEndpointConnection"}}}}}}},AttestationProviderListResult={type:{name:"Composite",className:"AttestationProviderListResult",modelProperties:{systemData:{serializedName:"systemData",type:{name:"Composite",className:"SystemData"}},value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"AttestationProvider"}}}}}}},PrivateEndpointConnection={type:{name:"Composite",className:"PrivateEndpointConnection",modelProperties:Object.assign(Object.assign({},Resource.type.modelProperties),{privateEndpoint:{serializedName:"properties.privateEndpoint",type:{name:"Composite",className:"PrivateEndpoint"}},privateLinkServiceConnectionState:{serializedName:"properties.privateLinkServiceConnectionState",type:{name:"Composite",className:"PrivateLinkServiceConnectionState"}},provisioningState:{serializedName:"properties.provisioningState",readOnly:!0,type:{name:"String"}}})}},TrackedResource={type:{name:"Composite",className:"TrackedResource",modelProperties:Object.assign(Object.assign({},Resource.type.modelProperties),{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},location:{serializedName:"location",required:!0,type:{name:"String"}}})}},AttestationProvider={type:{name:"Composite",className:"AttestationProvider",modelProperties:Object.assign(Object.assign({},TrackedResource.type.modelProperties),{systemData:{serializedName:"systemData",type:{name:"Composite",className:"SystemData"}},trustModel:{serializedName:"properties.trustModel",type:{name:"String"}},status:{serializedName:"properties.status",type:{name:"String"}},attestUri:{serializedName:"properties.attestUri",type:{name:"String"}},privateEndpointConnections:{serializedName:"properties.privateEndpointConnections",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"PrivateEndpointConnection"}}}}})}};var Mappers=Object.freeze({__proto__:null,OperationList:OperationList,SystemData:SystemData,OperationsDefinition:OperationsDefinition,OperationsDisplayDefinition:OperationsDisplayDefinition,CloudError:CloudError,CloudErrorBody:CloudErrorBody,PrivateEndpoint:PrivateEndpoint,PrivateLinkServiceConnectionState:PrivateLinkServiceConnectionState,Resource:Resource,AttestationServiceCreationParams:AttestationServiceCreationParams,AttestationServiceCreationSpecificParams:AttestationServiceCreationSpecificParams,JsonWebKeySet:JsonWebKeySet,JsonWebKey:JsonWebKey,AttestationServicePatchParams:AttestationServicePatchParams,PrivateEndpointConnectionListResult:PrivateEndpointConnectionListResult,AttestationProviderListResult:AttestationProviderListResult,PrivateEndpointConnection:PrivateEndpointConnection,TrackedResource:TrackedResource,AttestationProvider:AttestationProvider});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2020-10-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},subscriptionId={parameterPath:"subscriptionId",mapper:{constraints:{MinLength:1},serializedName:"subscriptionId",required:!0,type:{name:"String"}}},resourceGroupName={parameterPath:"resourceGroupName",mapper:{constraints:{MaxLength:90,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},providerName={parameterPath:"providerName",mapper:{serializedName:"providerName",required:!0,type:{name:"String"}}},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},creationParams={parameterPath:"creationParams",mapper:AttestationServiceCreationParams},updateParams={parameterPath:"updateParams",mapper:AttestationServicePatchParams},location={parameterPath:"location",mapper:{constraints:{MinLength:1},serializedName:"location",required:!0,type:{name:"String"}}},providerName1={parameterPath:"providerName",mapper:{constraints:{Pattern:new RegExp("^[a-zA-Z0-9-]{3,24}$")},serializedName:"providerName",required:!0,type:{name:"String"}}},privateEndpointConnectionName={parameterPath:"privateEndpointConnectionName",mapper:{serializedName:"privateEndpointConnectionName",required:!0,type:{name:"String"}}},properties={parameterPath:"properties",mapper:PrivateEndpointConnection};class OperationsImpl{constructor(e){this.client=e}list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$2)}}const serializer$2=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$2={path:"/providers/Microsoft.Attestation/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationList},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$2};class AttestationProvidersImpl{constructor(e){this.client=e}get(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,options:r},getOperationSpec$1)}create(e,t,r,i){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,creationParams:r,options:i},createOperationSpec$1)}update(e,t,r,i){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,updateParams:r,options:i},updateOperationSpec)}delete(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,options:r},deleteOperationSpec$1)}list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$1)}listByResourceGroup(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},listByResourceGroupOperationSpec)}listDefault(e){return this.client.sendOperationRequest({options:e},listDefaultOperationSpec)}getDefaultByLocation(e,t){return this.client.sendOperationRequest({location:e,options:t},getDefaultByLocationOperationSpec)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),getOperationSpec$1={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}",httpMethod:"GET",responses:{200:{bodyMapper:AttestationProvider},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName],headerParameters:[accept],serializer:serializer$1},createOperationSpec$1={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}",httpMethod:"PUT",responses:{200:{bodyMapper:AttestationProvider},201:{bodyMapper:AttestationProvider},default:{bodyMapper:CloudError}},requestBody:creationParams,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$1},updateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}",httpMethod:"PATCH",responses:{200:{bodyMapper:AttestationProvider},default:{bodyMapper:CloudError}},requestBody:updateParams,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$1},deleteOperationSpec$1={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}",httpMethod:"DELETE",responses:{200:{},202:{},204:{},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName],headerParameters:[accept],serializer:serializer$1},listOperationSpec$1={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Attestation/attestationProviders",httpMethod:"GET",responses:{200:{bodyMapper:AttestationProviderListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer$1},listByResourceGroupOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders",httpMethod:"GET",responses:{200:{bodyMapper:AttestationProviderListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName],headerParameters:[accept],serializer:serializer$1},listDefaultOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Attestation/defaultProviders",httpMethod:"GET",responses:{200:{bodyMapper:AttestationProviderListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer$1},getDefaultByLocationOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Attestation/locations/{location}/defaultProvider",httpMethod:"GET",responses:{200:{bodyMapper:AttestationProvider},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,location],headerParameters:[accept],serializer:serializer$1};class PrivateEndpointConnectionsImpl{constructor(e){this.client=e}list(t,r,i){const e=this.listPagingAll(t,r,i);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,r,i,e)}}}listPagingPage(t,r,i,e){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(t,r,i));yield yield tslib.__await(e.value||[])})}listPagingAll(o,n,s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var r,i=tslib.__asyncValues(this.listPagingPage(o,n,s));!(r=yield tslib.__await(i.next())).done;){var a=r.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(a)))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&(yield tslib.__await(e.call(i)))}finally{if(t)throw t.error}}})}_list(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,options:r},listOperationSpec)}get(e,t,r,i){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,privateEndpointConnectionName:r,options:i},getOperationSpec)}create(e,t,r,i,a){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,privateEndpointConnectionName:r,properties:i,options:a},createOperationSpec)}delete(e,t,r,i){return this.client.sendOperationRequest({resourceGroupName:e,providerName:t,privateEndpointConnectionName:r,options:i},deleteOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}/privateEndpointConnections",httpMethod:"GET",responses:{200:{bodyMapper:PrivateEndpointConnectionListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName1],headerParameters:[accept],serializer:serializer},getOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}/privateEndpointConnections/{privateEndpointConnectionName}",httpMethod:"GET",responses:{200:{bodyMapper:PrivateEndpointConnection},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName1,privateEndpointConnectionName],headerParameters:[accept],serializer:serializer},createOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}/privateEndpointConnections/{privateEndpointConnectionName}",httpMethod:"PUT",responses:{200:{bodyMapper:PrivateEndpointConnection},default:{bodyMapper:CloudError}},requestBody:properties,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName1,privateEndpointConnectionName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},deleteOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Attestation/attestationProviders/{providerName}/privateEndpointConnections/{privateEndpointConnectionName}",httpMethod:"DELETE",responses:{200:{},204:{},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,providerName1,privateEndpointConnectionName],headerParameters:[accept],serializer:serializer};class AttestationManagementClient extends coreClient__namespace.ServiceClient{constructor(e,t,r){if(void 0===e)throw new Error("'credentials' cannot be null");if(void 0===t)throw new Error("'subscriptionId' cannot be null");var i,a="azsdk-js-arm-attestation/2.1.0",a=(r=r||{}).userAgentOptions&&r.userAgentOptions.userAgentPrefix?r.userAgentOptions.userAgentPrefix+" "+a:a,a=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),r),{userAgentOptions:{userAgentPrefix:a},endpoint:null!=(a=null!=(a=r.endpoint)?a:r.baseUri)?a:"https://management.azure.com"});super(a);let o=!1;null!=r&&r.pipeline&&0<r.pipeline.getOrderedPolicies().length&&(i=r.pipeline.getOrderedPolicies(),o=i.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),r&&r.pipeline&&0!=r.pipeline.getOrderedPolicies().length&&o||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(i=a.credentialScopes)?i:a.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.subscriptionId=t,this.$host=r.$host||"https://management.azure.com",this.apiVersion=r.apiVersion||"2020-10-01",this.operations=new OperationsImpl(this),this.attestationProviders=new AttestationProvidersImpl(this),this.privateEndpointConnections=new PrivateEndpointConnectionsImpl(this),this.addCustomApiVersionPolicy(r.apiVersion)}addCustomApiVersionPolicy(a){a&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(r,i){return tslib.__awaiter(this,void 0,void 0,function*(){var e,t=r.url.split("?");return 1<t.length&&(e=t[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+a:e),r.url=t[0]+"?"+e.join("&")),i(r)})}})}}exports.AttestationManagementClient=AttestationManagementClient,exports.getContinuationToken=getContinuationToken;