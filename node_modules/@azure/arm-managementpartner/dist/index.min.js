"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline");function _interopNamespace(t){var a;return t&&t.__esModule?t:(a=Object.create(null),t&&Object.keys(t).forEach(function(e){var r;"default"!==e&&(r=Object.getOwnPropertyDescriptor(t,e),Object.defineProperty(a,e,r.get?r:{enumerable:!0,get:function(){return t[e]}}))}),a.default=t,Object.freeze(a))}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);const pageMap=new WeakMap;function getContinuationToken(e){return"object"!=typeof e||null===e||null==(e=pageMap.get(e))?void 0:e.continuationToken}function setContinuationToken(e,r){var t;"object"==typeof e&&null!==e&&r&&((t=null!=(t=pageMap.get(e))?t:{}).continuationToken=r,pageMap.set(e,t))}exports.KnownManagementPartnerState=void 0,function(e){e.Active="Active",e.Deleted="Deleted"}(exports.KnownManagementPartnerState||(exports.KnownManagementPartnerState={})),exports.KnownErrorResponseCode=void 0,function(e){e.NotFound="NotFound",e.Conflict="Conflict",e.BadRequest="BadRequest"}(exports.KnownErrorResponseCode||(exports.KnownErrorResponseCode={}));const PartnerResponse={type:{name:"Composite",className:"PartnerResponse",modelProperties:{etag:{serializedName:"etag",type:{name:"Number"}},id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},partnerId:{serializedName:"properties.partnerId",type:{name:"String"}},partnerName:{serializedName:"properties.partnerName",type:{name:"String"}},tenantId:{serializedName:"properties.tenantId",type:{name:"String"}},objectId:{serializedName:"properties.objectId",type:{name:"String"}},version:{serializedName:"properties.version",type:{name:"Number"}},updatedTime:{serializedName:"properties.updatedTime",type:{name:"DateTime"}},createdTime:{serializedName:"properties.createdTime",type:{name:"DateTime"}},state:{serializedName:"properties.state",type:{name:"String"}}}}},ErrorModel={type:{name:"Composite",className:"ErrorModel",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ExtendedErrorInfo"}}}}},ExtendedErrorInfo={type:{name:"Composite",className:"ExtendedErrorInfo",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}}}}},OperationList={type:{name:"Composite",className:"OperationList",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"OperationResponse"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},OperationResponse={type:{name:"Composite",className:"OperationResponse",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}},origin:{serializedName:"origin",type:{name:"String"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}};var Mappers=Object.freeze({__proto__:null,PartnerResponse:PartnerResponse,ErrorModel:ErrorModel,ExtendedErrorInfo:ExtendedErrorInfo,OperationList:OperationList,OperationResponse:OperationResponse,OperationDisplay:OperationDisplay});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},partnerId={parameterPath:"partnerId",mapper:{serializedName:"partnerId",required:!0,type:{name:"String"}}},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2018-02-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0};class PartnerImpl{constructor(e){this.client=e}get(e,r){return this.client.sendOperationRequest({partnerId:e,options:r},getOperationSpec$1)}create(e,r){return this.client.sendOperationRequest({partnerId:e,options:r},createOperationSpec)}update(e,r){return this.client.sendOperationRequest({partnerId:e,options:r},updateOperationSpec)}delete(e,r){return this.client.sendOperationRequest({partnerId:e,options:r},deleteOperationSpec)}}const serializer$2=coreClient__namespace.createSerializer(Mappers,!1),getOperationSpec$1={path:"/providers/Microsoft.ManagementPartner/partners/{partnerId}",httpMethod:"GET",responses:{200:{bodyMapper:PartnerResponse},default:{bodyMapper:ErrorModel}},queryParameters:[apiVersion],urlParameters:[$host,partnerId],headerParameters:[accept],serializer:serializer$2},createOperationSpec={path:"/providers/Microsoft.ManagementPartner/partners/{partnerId}",httpMethod:"PUT",responses:{200:{bodyMapper:PartnerResponse},default:{bodyMapper:ErrorModel}},queryParameters:[apiVersion],urlParameters:[$host,partnerId],headerParameters:[accept],serializer:serializer$2},updateOperationSpec={path:"/providers/Microsoft.ManagementPartner/partners/{partnerId}",httpMethod:"PATCH",responses:{200:{bodyMapper:PartnerResponse},default:{bodyMapper:ErrorModel}},queryParameters:[apiVersion],urlParameters:[$host,partnerId],headerParameters:[accept],serializer:serializer$2},deleteOperationSpec={path:"/providers/Microsoft.ManagementPartner/partners/{partnerId}",httpMethod:"DELETE",responses:{200:{},default:{bodyMapper:ErrorModel}},queryParameters:[apiVersion],urlParameters:[$host,partnerId],headerParameters:[accept],serializer:serializer$2};class OperationImpl{constructor(e){this.client=e}list(r){const e=this.listPagingAll(r);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(r,e)}}}listPagingPage(n,i){return tslib.__asyncGenerator(this,arguments,function*(){let e,r=null==i?void 0:i.continuationToken;var t;for(r||(setContinuationToken(t=(e=yield tslib.__await(this._list(n))).value||[],r=e.nextLink),yield yield tslib.__await(t));r;){e=yield tslib.__await(this._listNext(r,n)),r=e.nextLink;var a=e.value||[];setContinuationToken(a,r),yield yield tslib.__await(a)}})}listPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var r,e;try{for(var t,a=tslib.__asyncValues(this.listPagingPage(i));!(t=yield tslib.__await(a.next())).done;){var n=t.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){r={error:e}}finally{try{t&&!t.done&&(e=a.return)&&(yield tslib.__await(e.call(a)))}finally{if(r)throw r.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listNext(e,r){return this.client.sendOperationRequest({nextLink:e,options:r},listNextOperationSpec)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/providers/Microsoft.ManagementPartner/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationList},default:{bodyMapper:ErrorModel}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$1},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:OperationList},default:{bodyMapper:ErrorModel}},urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer$1};class PartnersImpl{constructor(e){this.client=e}get(e){return this.client.sendOperationRequest({options:e},getOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),getOperationSpec={path:"/providers/Microsoft.ManagementPartner/partners",httpMethod:"GET",responses:{200:{bodyMapper:PartnerResponse},default:{bodyMapper:ErrorModel}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer};class ACEProvisioningManagementPartnerAPI extends coreClient__namespace.ServiceClient{constructor(e,r){if(void 0===e)throw new Error("'credentials' cannot be null");var t,a="azsdk-js-arm-managementpartner/3.0.1",a=(r=r||{}).userAgentOptions&&r.userAgentOptions.userAgentPrefix?r.userAgentOptions.userAgentPrefix+" "+a:a,a=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),r),{userAgentOptions:{userAgentPrefix:a},endpoint:null!=(a=null!=(a=r.endpoint)?a:r.baseUri)?a:"https://management.azure.com"});super(a);let n=!1;null!=r&&r.pipeline&&0<r.pipeline.getOrderedPolicies().length&&(t=r.pipeline.getOrderedPolicies(),n=t.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),r&&r.pipeline&&0!=r.pipeline.getOrderedPolicies().length&&n||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(t=a.credentialScopes)?t:a.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.$host=r.$host||"https://management.azure.com",this.apiVersion=r.apiVersion||"2018-02-01",this.partner=new PartnerImpl(this),this.operation=new OperationImpl(this),this.partners=new PartnersImpl(this),this.addCustomApiVersionPolicy(r.apiVersion)}addCustomApiVersionPolicy(n){n&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(t,a){return tslib.__awaiter(this,void 0,void 0,function*(){var e,r=t.url.split("?");return 1<r.length&&(e=r[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+n:e),t.url=r[0]+"?"+e.join("&")),a(t)})}})}}exports.ACEProvisioningManagementPartnerAPI=ACEProvisioningManagementPartnerAPI,exports.getContinuationToken=getContinuationToken;