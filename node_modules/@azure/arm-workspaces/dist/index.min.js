"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline");function _interopNamespace(a){var t;return a&&a.__esModule?a:(t=Object.create(null),a&&Object.keys(a).forEach(function(e){var r;"default"!==e&&(r=Object.getOwnPropertyDescriptor(a,e),Object.defineProperty(t,e,r.get?r:{enumerable:!0,get:function(){return a[e]}}))}),t.default=a,Object.freeze(t))}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);const pageMap=new WeakMap;function getContinuationToken(e){return"object"!=typeof e||null===e||null==(e=pageMap.get(e))?void 0:e.continuationToken}function setContinuationToken(e,r){var a;"object"==typeof e&&null!==e&&r&&((a=null!=(a=pageMap.get(e))?a:{}).continuationToken=r,pageMap.set(e,a))}const OperationListResult={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}}}}},Operation={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},ErrorResponse={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}}}}},Resource={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",required:!0,type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},sku:{serializedName:"sku",type:{name:"Composite",className:"Sku"}}}}},Sku={type:{name:"Composite",className:"Sku",modelProperties:{name:{serializedName:"name",type:{name:"String"}},tier:{serializedName:"tier",type:{name:"String"}}}}},WorkspaceUpdateParameters={type:{name:"Composite",className:"WorkspaceUpdateParameters",modelProperties:{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},workspaceState:{serializedName:"properties.workspaceState",type:{name:"Enum",allowedValues:["Deleted","Enabled","Disabled","Migrated","Updated","Registered","Unregistered"]}},keyVaultIdentifierId:{serializedName:"properties.keyVaultIdentifierId",type:{name:"String"}},sku:{serializedName:"properties.sku",type:{name:"Composite",className:"Sku"}}}}},WorkspaceKeysResponse={type:{name:"Composite",className:"WorkspaceKeysResponse",modelProperties:{primaryToken:{serializedName:"primaryToken",type:{name:"String"}},secondaryToken:{serializedName:"secondaryToken",type:{name:"String"}}}}},WorkspaceListResult={type:{name:"Composite",className:"WorkspaceListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Workspace"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},Workspace={type:{name:"Composite",className:"Workspace",modelProperties:Object.assign(Object.assign({},Resource.type.modelProperties),{userStorageAccountId:{serializedName:"properties.userStorageAccountId",type:{name:"String"}},ownerEmail:{serializedName:"properties.ownerEmail",type:{name:"String"}},workspaceType:{serializedName:"properties.workspaceType",readOnly:!0,type:{name:"Enum",allowedValues:["Production","Free","Anonymous","PaidStandard","PaidPremium"]}},workspaceState:{serializedName:"properties.workspaceState",readOnly:!0,type:{name:"Enum",allowedValues:["Deleted","Enabled","Disabled","Migrated","Updated","Registered","Unregistered"]}},workspaceId:{serializedName:"properties.workspaceId",readOnly:!0,type:{name:"String"}},creationTime:{serializedName:"properties.creationTime",readOnly:!0,type:{name:"String"}},studioEndpoint:{serializedName:"properties.studioEndpoint",readOnly:!0,type:{name:"String"}},keyVaultIdentifierId:{serializedName:"properties.keyVaultIdentifierId",type:{name:"String"}}})}};var Mappers=Object.freeze({__proto__:null,OperationListResult:OperationListResult,Operation:Operation,OperationDisplay:OperationDisplay,ErrorResponse:ErrorResponse,Resource:Resource,Sku:Sku,WorkspaceUpdateParameters:WorkspaceUpdateParameters,WorkspaceKeysResponse:WorkspaceKeysResponse,WorkspaceListResult:WorkspaceListResult,Workspace:Workspace});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2019-10-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},subscriptionId={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},resourceGroupName={parameterPath:"resourceGroupName",mapper:{serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},workspaceName={parameterPath:"workspaceName",mapper:{serializedName:"workspaceName",required:!0,type:{name:"String"}}},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},parameters={parameterPath:"parameters",mapper:Workspace},parameters1={parameterPath:"parameters",mapper:WorkspaceUpdateParameters},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0};class OperationsImpl{constructor(e){this.client=e}list(r){const e=this.listPagingAll(r);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(r,e)}}}listPagingPage(r,e){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(r));yield yield tslib.__await(e.value||[])})}listPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var r,e;try{for(var a,t=tslib.__asyncValues(this.listPagingPage(i));!(a=yield tslib.__await(t.next())).done;){var s=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(s)))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(e=t.return)&&(yield tslib.__await(e.call(t)))}finally{if(r)throw r.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$1)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec$1={path:"/providers/Microsoft.MachineLearning/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$1};class WorkspacesImpl{constructor(e){this.client=e}listByResourceGroup(r,a){const e=this.listByResourceGroupPagingAll(r,a);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listByResourceGroupPagingPage(r,a,e)}}}listByResourceGroupPagingPage(s,i,o){return tslib.__asyncGenerator(this,arguments,function*(){let e,r=null==o?void 0:o.continuationToken;var a;for(r||(setContinuationToken(a=(e=yield tslib.__await(this._listByResourceGroup(s,i))).value||[],r=e.nextLink),yield yield tslib.__await(a));r;){e=yield tslib.__await(this._listByResourceGroupNext(s,r,i)),r=e.nextLink;var t=e.value||[];setContinuationToken(t,r),yield yield tslib.__await(t)}})}listByResourceGroupPagingAll(i,o){return tslib.__asyncGenerator(this,arguments,function*(){var r,e;try{for(var a,t=tslib.__asyncValues(this.listByResourceGroupPagingPage(i,o));!(a=yield tslib.__await(t.next())).done;){var s=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(s)))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(e=t.return)&&(yield tslib.__await(e.call(t)))}finally{if(r)throw r.error}}})}list(r){const e=this.listPagingAll(r);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(r,e)}}}listPagingPage(s,i){return tslib.__asyncGenerator(this,arguments,function*(){let e,r=null==i?void 0:i.continuationToken;var a;for(r||(setContinuationToken(a=(e=yield tslib.__await(this._list(s))).value||[],r=e.nextLink),yield yield tslib.__await(a));r;){e=yield tslib.__await(this._listNext(r,s)),r=e.nextLink;var t=e.value||[];setContinuationToken(t,r),yield yield tslib.__await(t)}})}listPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var r,e;try{for(var a,t=tslib.__asyncValues(this.listPagingPage(i));!(a=yield tslib.__await(t.next())).done;){var s=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(s)))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(e=t.return)&&(yield tslib.__await(e.call(t)))}finally{if(r)throw r.error}}})}get(e,r,a){return this.client.sendOperationRequest({resourceGroupName:e,workspaceName:r,options:a},getOperationSpec)}createOrUpdate(e,r,a,t){return this.client.sendOperationRequest({resourceGroupName:e,workspaceName:r,parameters:a,options:t},createOrUpdateOperationSpec)}delete(e,r,a){return this.client.sendOperationRequest({resourceGroupName:e,workspaceName:r,options:a},deleteOperationSpec)}update(e,r,a,t){return this.client.sendOperationRequest({resourceGroupName:e,workspaceName:r,parameters:a,options:t},updateOperationSpec)}resyncStorageKeys(e,r,a){return this.client.sendOperationRequest({workspaceName:e,resourceGroupName:r,options:a},resyncStorageKeysOperationSpec)}listWorkspaceKeys(e,r,a){return this.client.sendOperationRequest({workspaceName:e,resourceGroupName:r,options:a},listWorkspaceKeysOperationSpec)}_listByResourceGroup(e,r){return this.client.sendOperationRequest({resourceGroupName:e,options:r},listByResourceGroupOperationSpec)}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listByResourceGroupNext(e,r,a){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:r,options:a},listByResourceGroupNextOperationSpec)}_listNext(e,r){return this.client.sendOperationRequest({nextLink:e,options:r},listNextOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),getOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearning/workspaces/{workspaceName}",httpMethod:"GET",responses:{200:{bodyMapper:Workspace},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,workspaceName],headerParameters:[accept],serializer:serializer},createOrUpdateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearning/workspaces/{workspaceName}",httpMethod:"PUT",responses:{200:{bodyMapper:Workspace},default:{bodyMapper:ErrorResponse}},requestBody:parameters,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,workspaceName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},deleteOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearning/workspaces/{workspaceName}",httpMethod:"DELETE",responses:{200:{},204:{},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,workspaceName],headerParameters:[accept],serializer:serializer},updateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearning/workspaces/{workspaceName}",httpMethod:"PATCH",responses:{200:{bodyMapper:Workspace},default:{bodyMapper:ErrorResponse}},requestBody:parameters1,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,workspaceName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},resyncStorageKeysOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearning/workspaces/{workspaceName}/resyncStorageKeys",httpMethod:"POST",responses:{200:{},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,workspaceName],headerParameters:[accept],serializer:serializer},listWorkspaceKeysOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearning/workspaces/{workspaceName}/listWorkspaceKeys",httpMethod:"POST",responses:{200:{bodyMapper:WorkspaceKeysResponse},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,workspaceName],headerParameters:[accept],serializer:serializer},listByResourceGroupOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.MachineLearning/workspaces",httpMethod:"GET",responses:{200:{bodyMapper:WorkspaceListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName],headerParameters:[accept],serializer:serializer},listOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.MachineLearning/workspaces",httpMethod:"GET",responses:{200:{bodyMapper:WorkspaceListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer},listByResourceGroupNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:WorkspaceListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,nextLink],headerParameters:[accept],serializer:serializer},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:WorkspaceListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,nextLink],headerParameters:[accept],serializer:serializer};class MachineLearningWorkspacesManagementClient extends coreClient__namespace.ServiceClient{constructor(e,r,a){if(void 0===e)throw new Error("'credentials' cannot be null");if(void 0===r)throw new Error("'subscriptionId' cannot be null");var t,s="azsdk-js-arm-workspaces/1.1.0",s=(a=a||{}).userAgentOptions&&a.userAgentOptions.userAgentPrefix?a.userAgentOptions.userAgentPrefix+" "+s:s,s=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),a),{userAgentOptions:{userAgentPrefix:s},endpoint:null!=(s=null!=(s=a.endpoint)?s:a.baseUri)?s:"https://management.azure.com"});super(s);let i=!1;null!=a&&a.pipeline&&0<a.pipeline.getOrderedPolicies().length&&(t=a.pipeline.getOrderedPolicies(),i=t.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),a&&a.pipeline&&0!=a.pipeline.getOrderedPolicies().length&&i||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(t=s.credentialScopes)?t:s.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.subscriptionId=r,this.$host=a.$host||"https://management.azure.com",this.apiVersion=a.apiVersion||"2019-10-01",this.operations=new OperationsImpl(this),this.workspaces=new WorkspacesImpl(this),this.addCustomApiVersionPolicy(a.apiVersion)}addCustomApiVersionPolicy(s){s&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(a,t){return tslib.__awaiter(this,void 0,void 0,function*(){var e,r=a.url.split("?");return 1<r.length&&(e=r[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+s:e),a.url=r[0]+"?"+e.join("&")),t(a)})}})}}exports.MachineLearningWorkspacesManagementClient=MachineLearningWorkspacesManagementClient,exports.getContinuationToken=getContinuationToken;