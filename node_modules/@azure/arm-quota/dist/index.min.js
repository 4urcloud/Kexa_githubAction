"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline"),coreLro=require("@azure/core-lro");function _interopNamespaceDefault(a){var i=Object.create(null);return a&&Object.keys(a).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(a,e),Object.defineProperty(i,e,t.get?t:{enumerable:!0,get:function(){return a[e]}}))}),i.default=a,Object.freeze(i)}var coreClient__namespace=_interopNamespaceDefault(coreClient),coreRestPipeline__namespace=_interopNamespaceDefault(coreRestPipeline);const pageMap=new WeakMap;function getContinuationToken(e){return"object"!=typeof e||null===e||null==(e=pageMap.get(e))?void 0:e.continuationToken}function setContinuationToken(e,t){var a;"object"==typeof e&&null!==e&&t&&((a=null!=(a=pageMap.get(e))?a:{}).continuationToken=t,pageMap.set(e,a))}exports.KnownUsagesTypes=void 0,function(e){e.Individual="Individual",e.Combined="Combined"}(exports.KnownUsagesTypes||(exports.KnownUsagesTypes={})),exports.KnownLimitType=void 0,(exports.KnownLimitType||(exports.KnownLimitType={})).LimitValue="LimitValue",exports.KnownQuotaRequestState=void 0,function(e){e.Accepted="Accepted",e.Invalid="Invalid",e.Succeeded="Succeeded",e.Failed="Failed",e.InProgress="InProgress"}(exports.KnownQuotaRequestState||(exports.KnownQuotaRequestState={})),exports.KnownQuotaLimitTypes=void 0,function(e){e.Independent="Independent",e.Shared="Shared"}(exports.KnownQuotaLimitTypes||(exports.KnownQuotaLimitTypes={}));const CurrentUsagesBase={type:{name:"Composite",className:"CurrentUsagesBase",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"UsagesProperties"}}}}},UsagesProperties={type:{name:"Composite",className:"UsagesProperties",modelProperties:{usages:{serializedName:"usages",type:{name:"Composite",className:"UsagesObject"}},unit:{serializedName:"unit",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"ResourceName"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},quotaPeriod:{serializedName:"quotaPeriod",readOnly:!0,type:{name:"String"}},isQuotaApplicable:{serializedName:"isQuotaApplicable",readOnly:!0,type:{name:"Boolean"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},UsagesObject={type:{name:"Composite",className:"UsagesObject",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Number"}},usagesType:{serializedName:"usagesType",type:{name:"String"}}}}},ResourceName={type:{name:"Composite",className:"ResourceName",modelProperties:{value:{serializedName:"value",type:{name:"String"}},localizedValue:{serializedName:"localizedValue",readOnly:!0,type:{name:"String"}}}}},ExceptionResponse={type:{name:"Composite",className:"ExceptionResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ServiceError"}}}}},ServiceError={type:{name:"Composite",className:"ServiceError",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ServiceErrorDetail"}}}}}}},ServiceErrorDetail={type:{name:"Composite",className:"ServiceErrorDetail",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}}}}},UsagesLimits={type:{name:"Composite",className:"UsagesLimits",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"CurrentUsagesBase"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},CurrentQuotaLimitBase={type:{name:"Composite",className:"CurrentQuotaLimitBase",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"QuotaProperties"}}}}},QuotaProperties={type:{name:"Composite",className:"QuotaProperties",modelProperties:{limit:{serializedName:"limit",type:{name:"Composite",className:"LimitJsonObject"}},unit:{serializedName:"unit",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"ResourceName"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},quotaPeriod:{serializedName:"quotaPeriod",readOnly:!0,type:{name:"String"}},isQuotaApplicable:{serializedName:"isQuotaApplicable",readOnly:!0,type:{name:"Boolean"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},LimitJsonObject={type:{name:"Composite",className:"LimitJsonObject",uberParent:"LimitJsonObject",polymorphicDiscriminator:{serializedName:"limitObjectType",clientName:"limitObjectType"},modelProperties:{limitObjectType:{serializedName:"limitObjectType",required:!0,type:{name:"String"}}}}},QuotaLimits={type:{name:"Composite",className:"QuotaLimits",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"CurrentQuotaLimitBase"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},QuotaRequestDetails={type:{name:"Composite",className:"QuotaRequestDetails",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"QuotaRequestProperties"}}}}},QuotaRequestProperties={type:{name:"Composite",className:"QuotaRequestProperties",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"ServiceErrorDetail"}},requestSubmitTime:{serializedName:"requestSubmitTime",readOnly:!0,type:{name:"DateTime"}},value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"SubRequest"}}}}}}},SubRequest={type:{name:"Composite",className:"SubRequest",modelProperties:{name:{serializedName:"name",type:{name:"Composite",className:"ResourceName"}},resourceType:{serializedName:"resourceType",readOnly:!0,type:{name:"String"}},unit:{serializedName:"unit",type:{name:"String"}},provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},subRequestId:{serializedName:"subRequestId",readOnly:!0,type:{name:"String"}},limit:{serializedName:"limit",type:{name:"Composite",className:"LimitJsonObject"}}}}},QuotaRequestDetailsList={type:{name:"Composite",className:"QuotaRequestDetailsList",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"QuotaRequestDetails"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},OperationList={type:{name:"Composite",className:"OperationList",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"OperationResponse"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},OperationResponse={type:{name:"Composite",className:"OperationResponse",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}},origin:{serializedName:"origin",type:{name:"String"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},CommonResourceProperties={type:{name:"Composite",className:"CommonResourceProperties",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}}}}},QuotaLimitsResponse={type:{name:"Composite",className:"QuotaLimitsResponse",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"CurrentQuotaLimitBase"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},CreateGenericQuotaRequestParameters={type:{name:"Composite",className:"CreateGenericQuotaRequestParameters",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"CurrentQuotaLimitBase"}}}}}}},QuotaRequestOneResourceSubmitResponse={type:{name:"Composite",className:"QuotaRequestOneResourceSubmitResponse",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"QuotaRequestOneResourceProperties"}}}}},QuotaRequestOneResourceProperties={type:{name:"Composite",className:"QuotaRequestOneResourceProperties",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},requestSubmitTime:{serializedName:"requestSubmitTime",readOnly:!0,type:{name:"DateTime"}},limit:{serializedName:"limit",type:{name:"Composite",className:"LimitObject"}},currentValue:{serializedName:"currentValue",readOnly:!0,type:{name:"Number"}},unit:{serializedName:"unit",type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"ResourceName"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},quotaPeriod:{serializedName:"quotaPeriod",readOnly:!0,type:{name:"String"}},isQuotaApplicable:{serializedName:"isQuotaApplicable",readOnly:!0,type:{name:"Boolean"}},error:{serializedName:"error",type:{name:"Composite",className:"ServiceErrorDetail"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},QuotaRequestSubmitResponse={type:{name:"Composite",className:"QuotaRequestSubmitResponse",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"QuotaRequestProperties"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}}}}},QuotaRequestSubmitResponse202={type:{name:"Composite",className:"QuotaRequestSubmitResponse202",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"QuotaRequestStatusDetails"}}}}},QuotaRequestStatusDetails={type:{name:"Composite",className:"QuotaRequestStatusDetails",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},limit:{serializedName:"limit",type:{name:"Composite",className:"LimitObject"}},unit:{serializedName:"unit",type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"ResourceName"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},quotaPeriod:{serializedName:"quotaPeriod",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},LimitObject={serializedName:"LimitValue",type:{name:"Composite",className:"LimitObject",uberParent:"LimitJsonObject",polymorphicDiscriminator:LimitJsonObject.type.polymorphicDiscriminator,modelProperties:Object.assign(Object.assign({},LimitJsonObject.type.modelProperties),{value:{serializedName:"value",required:!0,type:{name:"Number"}},limitType:{serializedName:"limitType",type:{name:"String"}}})}},UsagesGetHeaders={type:{name:"Composite",className:"UsagesGetHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}}}}},UsagesListHeaders={type:{name:"Composite",className:"UsagesListHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}}}}},UsagesListNextHeaders={type:{name:"Composite",className:"UsagesListNextHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}}}}},QuotaGetHeaders={type:{name:"Composite",className:"QuotaGetHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}}}}},QuotaListHeaders={type:{name:"Composite",className:"QuotaListHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}}}}},QuotaListNextHeaders={type:{name:"Composite",className:"QuotaListNextHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}}}}};let discriminators={LimitJsonObject:LimitJsonObject,"LimitJsonObject.LimitValue":LimitObject};var Mappers=Object.freeze({__proto__:null,CommonResourceProperties:CommonResourceProperties,CreateGenericQuotaRequestParameters:CreateGenericQuotaRequestParameters,CurrentQuotaLimitBase:CurrentQuotaLimitBase,CurrentUsagesBase:CurrentUsagesBase,ExceptionResponse:ExceptionResponse,LimitJsonObject:LimitJsonObject,LimitObject:LimitObject,OperationDisplay:OperationDisplay,OperationList:OperationList,OperationResponse:OperationResponse,QuotaGetHeaders:QuotaGetHeaders,QuotaLimits:QuotaLimits,QuotaLimitsResponse:QuotaLimitsResponse,QuotaListHeaders:QuotaListHeaders,QuotaListNextHeaders:QuotaListNextHeaders,QuotaProperties:QuotaProperties,QuotaRequestDetails:QuotaRequestDetails,QuotaRequestDetailsList:QuotaRequestDetailsList,QuotaRequestOneResourceProperties:QuotaRequestOneResourceProperties,QuotaRequestOneResourceSubmitResponse:QuotaRequestOneResourceSubmitResponse,QuotaRequestProperties:QuotaRequestProperties,QuotaRequestStatusDetails:QuotaRequestStatusDetails,QuotaRequestSubmitResponse:QuotaRequestSubmitResponse,QuotaRequestSubmitResponse202:QuotaRequestSubmitResponse202,ResourceName:ResourceName,ServiceError:ServiceError,ServiceErrorDetail:ServiceErrorDetail,SubRequest:SubRequest,UsagesGetHeaders:UsagesGetHeaders,UsagesLimits:UsagesLimits,UsagesListHeaders:UsagesListHeaders,UsagesListNextHeaders:UsagesListNextHeaders,UsagesObject:UsagesObject,UsagesProperties:UsagesProperties,discriminators:discriminators});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},resourceName={parameterPath:"resourceName",mapper:{serializedName:"resourceName",required:!0,type:{name:"String"}}},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2023-02-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},scope={parameterPath:"scope",mapper:{serializedName:"scope",required:!0,type:{name:"String"}},skipEncoding:!0},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},createQuotaRequest={parameterPath:"createQuotaRequest",mapper:CurrentQuotaLimitBase},id={parameterPath:"id",mapper:{serializedName:"id",required:!0,type:{name:"String"}}},filter={parameterPath:["options","filter"],mapper:{serializedName:"$filter",type:{name:"String"}}},top={parameterPath:["options","top"],mapper:{constraints:{InclusiveMinimum:1},serializedName:"$top",type:{name:"Number"}}},skiptoken={parameterPath:["options","skiptoken"],mapper:{serializedName:"$skiptoken",type:{name:"String"}}};class UsagesImpl{constructor(e){this.client=e}list(t,a){const e=this.listPagingAll(t,a);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,a,e)}}}listPagingPage(s,r,n){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==n?void 0:n.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(s,r))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(s,t,r)),t=e.nextLink;var i=e.value||[];setContinuationToken(i,t),yield yield tslib.__await(i)}})}listPagingAll(o,p){return tslib.__asyncGenerator(this,arguments,function*(){var e,t,a;try{for(var i,s=!0,r=tslib.__asyncValues(this.listPagingPage(o,p));!(e=(i=yield tslib.__await(r.next())).done);s=!0){var n=i.value,s=!1;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{s||e||!(a=r.return)||(yield tslib.__await(a.call(r)))}finally{if(t)throw t.error}}})}get(e,t,a){return this.client.sendOperationRequest({resourceName:e,scope:t,options:a},getOperationSpec$2)}_list(e,t){return this.client.sendOperationRequest({scope:e,options:t},listOperationSpec$3)}_listNext(e,t,a){return this.client.sendOperationRequest({scope:e,nextLink:t,options:a},listNextOperationSpec$3)}}const serializer$3=coreClient__namespace.createSerializer(Mappers,!1),getOperationSpec$2={path:"/{scope}/providers/Microsoft.Quota/usages/{resourceName}",httpMethod:"GET",responses:{200:{bodyMapper:CurrentUsagesBase,headersMapper:UsagesGetHeaders},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,resourceName,scope],headerParameters:[accept],serializer:serializer$3},listOperationSpec$3={path:"/{scope}/providers/Microsoft.Quota/usages",httpMethod:"GET",responses:{200:{bodyMapper:UsagesLimits,headersMapper:UsagesListHeaders},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,scope],headerParameters:[accept],serializer:serializer$3},listNextOperationSpec$3={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:UsagesLimits,headersMapper:UsagesListNextHeaders},default:{bodyMapper:ExceptionResponse}},urlParameters:[$host,scope,nextLink],headerParameters:[accept],serializer:serializer$3};function createLroSpec(e){const{args:i,spec:s,sendOperationFn:r}=e;return{requestMethod:s.httpMethod,requestPath:s.path,sendInitialRequest:()=>r(i,s),sendPollRequest:(e,t)=>{var a=tslib.__rest(s,["requestBody"]);return r(i,Object.assign(Object.assign({},a),{httpMethod:"GET",path:e,abortSignal:null==t?void 0:t.abortSignal}))}}}class QuotaImpl{constructor(e){this.client=e}list(t,a){const e=this.listPagingAll(t,a);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,a,e)}}}listPagingPage(s,r,n){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==n?void 0:n.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(s,r))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(s,t,r)),t=e.nextLink;var i=e.value||[];setContinuationToken(i,t),yield yield tslib.__await(i)}})}listPagingAll(o,p){return tslib.__asyncGenerator(this,arguments,function*(){var e,t,a;try{for(var i,s=!0,r=tslib.__asyncValues(this.listPagingPage(o,p));!(e=(i=yield tslib.__await(r.next())).done);s=!0){var n=i.value,s=!1;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{s||e||!(a=r.return)||(yield tslib.__await(a.call(r)))}finally{if(t)throw t.error}}})}get(e,t,a){return this.client.sendOperationRequest({resourceName:e,scope:t,options:a},getOperationSpec$1)}beginCreateOrUpdate(t,a,i,s){return tslib.__awaiter(this,void 0,void 0,function*(){const r=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=createLroSpec({sendOperationFn:(t,s)=>tslib.__awaiter(this,void 0,void 0,function*(){let a=void 0;const i=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{a=e,null!==i&&void 0!==i&&i(e,t)}})});return{flatResponse:yield r(e,s),rawResponse:{statusCode:a.status,body:a.parsedBody,headers:a.headers.toJSON()}}}),args:{resourceName:t,scope:a,createQuotaRequest:i,options:s},spec:createOrUpdateOperationSpec}),e=yield coreLro.createHttpPoller(e,{restoreFrom:null==s?void 0:s.resumeFrom,intervalInMs:null==s?void 0:s.updateIntervalInMs,resourceLocationConfig:"original-uri"});return yield e.poll(),e})}beginCreateOrUpdateAndWait(e,t,a,i){return tslib.__awaiter(this,void 0,void 0,function*(){return(yield this.beginCreateOrUpdate(e,t,a,i)).pollUntilDone()})}beginUpdate(t,a,i,s){return tslib.__awaiter(this,void 0,void 0,function*(){const r=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=createLroSpec({sendOperationFn:(t,s)=>tslib.__awaiter(this,void 0,void 0,function*(){let a=void 0;const i=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{a=e,null!==i&&void 0!==i&&i(e,t)}})});return{flatResponse:yield r(e,s),rawResponse:{statusCode:a.status,body:a.parsedBody,headers:a.headers.toJSON()}}}),args:{resourceName:t,scope:a,createQuotaRequest:i,options:s},spec:updateOperationSpec}),e=yield coreLro.createHttpPoller(e,{restoreFrom:null==s?void 0:s.resumeFrom,intervalInMs:null==s?void 0:s.updateIntervalInMs,resourceLocationConfig:"original-uri"});return yield e.poll(),e})}beginUpdateAndWait(e,t,a,i){return tslib.__awaiter(this,void 0,void 0,function*(){return(yield this.beginUpdate(e,t,a,i)).pollUntilDone()})}_list(e,t){return this.client.sendOperationRequest({scope:e,options:t},listOperationSpec$2)}_listNext(e,t,a){return this.client.sendOperationRequest({scope:e,nextLink:t,options:a},listNextOperationSpec$2)}}const serializer$2=coreClient__namespace.createSerializer(Mappers,!1),getOperationSpec$1={path:"/{scope}/providers/Microsoft.Quota/quotas/{resourceName}",httpMethod:"GET",responses:{200:{bodyMapper:CurrentQuotaLimitBase,headersMapper:QuotaGetHeaders},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,resourceName,scope],headerParameters:[accept],serializer:serializer$2},createOrUpdateOperationSpec={path:"/{scope}/providers/Microsoft.Quota/quotas/{resourceName}",httpMethod:"PUT",responses:{200:{bodyMapper:CurrentQuotaLimitBase},201:{bodyMapper:CurrentQuotaLimitBase},202:{bodyMapper:CurrentQuotaLimitBase},204:{bodyMapper:CurrentQuotaLimitBase},default:{bodyMapper:ExceptionResponse}},requestBody:createQuotaRequest,queryParameters:[apiVersion],urlParameters:[$host,resourceName,scope],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$2},updateOperationSpec={path:"/{scope}/providers/Microsoft.Quota/quotas/{resourceName}",httpMethod:"PATCH",responses:{200:{bodyMapper:CurrentQuotaLimitBase},201:{bodyMapper:CurrentQuotaLimitBase},202:{bodyMapper:CurrentQuotaLimitBase},204:{bodyMapper:CurrentQuotaLimitBase},default:{bodyMapper:ExceptionResponse}},requestBody:createQuotaRequest,queryParameters:[apiVersion],urlParameters:[$host,resourceName,scope],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer$2},listOperationSpec$2={path:"/{scope}/providers/Microsoft.Quota/quotas",httpMethod:"GET",responses:{200:{bodyMapper:QuotaLimits,headersMapper:QuotaListHeaders},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,scope],headerParameters:[accept],serializer:serializer$2},listNextOperationSpec$2={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:QuotaLimits,headersMapper:QuotaListNextHeaders},default:{bodyMapper:ExceptionResponse}},urlParameters:[$host,scope,nextLink],headerParameters:[accept],serializer:serializer$2};class QuotaRequestStatusImpl{constructor(e){this.client=e}list(t,a){const e=this.listPagingAll(t,a);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,a,e)}}}listPagingPage(s,r,n){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==n?void 0:n.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(s,r))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(s,t,r)),t=e.nextLink;var i=e.value||[];setContinuationToken(i,t),yield yield tslib.__await(i)}})}listPagingAll(o,p){return tslib.__asyncGenerator(this,arguments,function*(){var e,t,a;try{for(var i,s=!0,r=tslib.__asyncValues(this.listPagingPage(o,p));!(e=(i=yield tslib.__await(r.next())).done);s=!0){var n=i.value,s=!1;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{s||e||!(a=r.return)||(yield tslib.__await(a.call(r)))}finally{if(t)throw t.error}}})}get(e,t,a){return this.client.sendOperationRequest({id:e,scope:t,options:a},getOperationSpec)}_list(e,t){return this.client.sendOperationRequest({scope:e,options:t},listOperationSpec$1)}_listNext(e,t,a){return this.client.sendOperationRequest({scope:e,nextLink:t,options:a},listNextOperationSpec$1)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),getOperationSpec={path:"/{scope}/providers/Microsoft.Quota/quotaRequests/{id}",httpMethod:"GET",responses:{200:{bodyMapper:QuotaRequestDetails},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host,scope,id],headerParameters:[accept],serializer:serializer$1},listOperationSpec$1={path:"/{scope}/providers/Microsoft.Quota/quotaRequests",httpMethod:"GET",responses:{200:{bodyMapper:QuotaRequestDetailsList},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion,filter,top,skiptoken],urlParameters:[$host,scope],headerParameters:[accept],serializer:serializer$1},listNextOperationSpec$1={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:QuotaRequestDetailsList},default:{bodyMapper:ExceptionResponse}},urlParameters:[$host,scope,nextLink],headerParameters:[accept],serializer:serializer$1};class QuotaOperationImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(s,r){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==r?void 0:r.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(s))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(t,s)),t=e.nextLink;var i=e.value||[];setContinuationToken(i,t),yield yield tslib.__await(i)}})}listPagingAll(o){return tslib.__asyncGenerator(this,arguments,function*(){var e,t,a;try{for(var i,s=!0,r=tslib.__asyncValues(this.listPagingPage(o));!(e=(i=yield tslib.__await(r.next())).done);s=!0){var n=i.value,s=!1;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{s||e||!(a=r.return)||(yield tslib.__await(a.call(r)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/providers/Microsoft.Quota/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationList},default:{bodyMapper:ExceptionResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:OperationList},default:{bodyMapper:ExceptionResponse}},urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer};class AzureQuotaExtensionAPI extends coreClient__namespace.ServiceClient{constructor(e,t){if(void 0===e)throw new Error("'credentials' cannot be null");var a,i="azsdk-js-arm-quota/1.0.0",i=(t=t||{}).userAgentOptions&&t.userAgentOptions.userAgentPrefix?t.userAgentOptions.userAgentPrefix+" "+i:i,i=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),t),{userAgentOptions:{userAgentPrefix:i},endpoint:null!=(i=null!=(i=t.endpoint)?i:t.baseUri)?i:"https://management.azure.com"});super(i);let s=!1;null!=t&&t.pipeline&&0<t.pipeline.getOrderedPolicies().length&&(a=t.pipeline.getOrderedPolicies(),s=a.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),t&&t.pipeline&&0!=t.pipeline.getOrderedPolicies().length&&s||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(a=i.credentialScopes)?a:i.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.$host=t.$host||"https://management.azure.com",this.apiVersion=t.apiVersion||"2023-02-01",this.usages=new UsagesImpl(this),this.quota=new QuotaImpl(this),this.quotaRequestStatus=new QuotaRequestStatusImpl(this),this.quotaOperation=new QuotaOperationImpl(this),this.addCustomApiVersionPolicy(t.apiVersion)}addCustomApiVersionPolicy(s){s&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(a,i){return tslib.__awaiter(this,void 0,void 0,function*(){var e,t=a.url.split("?");return 1<t.length&&(e=t[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+s:e),a.url=t[0]+"?"+e.join("&")),i(a)})}})}}exports.AzureQuotaExtensionAPI=AzureQuotaExtensionAPI,exports.getContinuationToken=getContinuationToken;