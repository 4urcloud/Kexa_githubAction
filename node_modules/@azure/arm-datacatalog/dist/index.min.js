"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline"),coreLro=require("@azure/core-lro");function _interopNamespace(a){var r;return a&&a.__esModule?a:(r=Object.create(null),a&&Object.keys(a).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(a,e),Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return a[e]}}))}),r.default=a,Object.freeze(r))}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);exports.KnownSkuType=void 0,function(e){e.Free="Free",e.Standard="Standard"}(exports.KnownSkuType||(exports.KnownSkuType={}));const OperationEntityListResult={type:{name:"Composite",className:"OperationEntityListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"OperationEntity"}}}}}}},OperationEntity={type:{name:"Composite",className:"OperationEntity",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplayInfo"}}}}},OperationDisplayInfo={type:{name:"Composite",className:"OperationDisplayInfo",modelProperties:{description:{serializedName:"description",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}}}}},ADCCatalogsListResult={type:{name:"Composite",className:"ADCCatalogsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ADCCatalog"}}}}}}},Principals={type:{name:"Composite",className:"Principals",modelProperties:{upn:{serializedName:"upn",type:{name:"String"}},objectId:{serializedName:"objectId",type:{name:"String"}}}}},Resource={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},etag:{serializedName:"etag",type:{name:"String"}}}}},ADCCatalog={type:{name:"Composite",className:"ADCCatalog",modelProperties:Object.assign(Object.assign({},Resource.type.modelProperties),{sku:{serializedName:"properties.sku",type:{name:"String"}},units:{serializedName:"properties.units",type:{name:"Number"}},admins:{serializedName:"properties.admins",type:{name:"Sequence",element:{type:{name:"Composite",className:"Principals"}}}},users:{serializedName:"properties.users",type:{name:"Sequence",element:{type:{name:"Composite",className:"Principals"}}}},successfullyProvisioned:{serializedName:"properties.successfullyProvisioned",type:{name:"Boolean"}},enableAutomaticUnitAdjustment:{serializedName:"properties.enableAutomaticUnitAdjustment",type:{name:"Boolean"}}})}};var Mappers=Object.freeze({__proto__:null,OperationEntityListResult:OperationEntityListResult,OperationEntity:OperationEntity,OperationDisplayInfo:OperationDisplayInfo,ADCCatalogsListResult:ADCCatalogsListResult,Principals:Principals,Resource:Resource,ADCCatalog:ADCCatalog});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2016-03-30",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},subscriptionId={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},resourceGroupName={parameterPath:"resourceGroupName",mapper:{constraints:{Pattern:new RegExp("^[-\\w\\._\\(\\)]+$"),MaxLength:90,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},properties={parameterPath:"properties",mapper:ADCCatalog},catalogName={parameterPath:"catalogName",mapper:{serializedName:"catalogName",required:!0,type:{name:"String"}}};class ADCOperationsImpl{constructor(e){this.client=e}list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/providers/Microsoft.DataCatalog/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationEntityListResult}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$1};class LroImpl{constructor(e,t,a,r=a.path,i=a.httpMethod){this.sendOperationFn=e,this.args=t,this.spec=a,this.requestPath=r,this.requestMethod=i}sendInitialRequest(){return tslib.__awaiter(this,void 0,void 0,function*(){return this.sendOperationFn(this.args,this.spec)})}sendPollRequest(t){return tslib.__awaiter(this,void 0,void 0,function*(){var e=this.spec,e=tslib.__rest(e,["requestBody"]);return this.sendOperationFn(this.args,Object.assign(Object.assign({},e),{path:t,httpMethod:"GET"}))})}}class ADCCatalogsImpl{constructor(e){this.client=e}listtByResourceGroup(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},listtByResourceGroupOperationSpec)}createOrUpdate(e,t,a,r){return this.client.sendOperationRequest({resourceGroupName:e,catalogName:t,properties:a,options:r},createOrUpdateOperationSpec)}get(e,t,a){return this.client.sendOperationRequest({resourceGroupName:e,catalogName:t,options:a},getOperationSpec)}beginDelete(t,a,r){return tslib.__awaiter(this,void 0,void 0,function*(){const s=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=new LroImpl((t,i)=>tslib.__awaiter(this,void 0,void 0,function*(){let a=void 0;const r=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{a=e,null!==r&&void 0!==r&&r(e,t)}})});return{flatResponse:yield s(e,i),rawResponse:{statusCode:a.status,body:a.parsedBody,headers:a.headers.toJSON()}}}),{resourceGroupName:t,catalogName:a,options:r},deleteOperationSpec),e=new coreLro.LroEngine(e,{resumeFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});return yield e.poll(),e})}beginDeleteAndWait(e,t,a){return tslib.__awaiter(this,void 0,void 0,function*(){return(yield this.beginDelete(e,t,a)).pollUntilDone()})}update(e,t,a,r){return this.client.sendOperationRequest({resourceGroupName:e,catalogName:t,properties:a,options:r},updateOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),listtByResourceGroupOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataCatalog/catalogs",httpMethod:"GET",responses:{200:{bodyMapper:ADCCatalogsListResult}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName],headerParameters:[accept],serializer:serializer},createOrUpdateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataCatalog/catalogs/{catalogName}",httpMethod:"PUT",responses:{200:{bodyMapper:ADCCatalog},201:{bodyMapper:ADCCatalog}},requestBody:properties,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,catalogName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},getOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataCatalog/catalogs/{catalogName}",httpMethod:"GET",responses:{200:{bodyMapper:ADCCatalog}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,catalogName],headerParameters:[accept],serializer:serializer},deleteOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataCatalog/catalogs/{catalogName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,catalogName],serializer:serializer},updateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.DataCatalog/catalogs/{catalogName}",httpMethod:"PATCH",responses:{200:{bodyMapper:ADCCatalog}},requestBody:properties,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,catalogName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer};class DataCatalogRestClient extends coreClient__namespace.ServiceClient{constructor(e,t,a){if(void 0===e)throw new Error("'credentials' cannot be null");if(void 0===t)throw new Error("'subscriptionId' cannot be null");var r,i="azsdk-js-arm-datacatalog/4.1.0",i=(a=a||{}).userAgentOptions&&a.userAgentOptions.userAgentPrefix?a.userAgentOptions.userAgentPrefix+" "+i:i,i=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),a),{userAgentOptions:{userAgentPrefix:i},endpoint:null!=(i=null!=(i=a.endpoint)?i:a.baseUri)?i:"https://management.azure.com"});super(i);let s=!1;null!=a&&a.pipeline&&0<a.pipeline.getOrderedPolicies().length&&(r=a.pipeline.getOrderedPolicies(),s=r.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),a&&a.pipeline&&0!=a.pipeline.getOrderedPolicies().length&&s||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(r=i.credentialScopes)?r:i.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.subscriptionId=t,this.$host=a.$host||"https://management.azure.com",this.apiVersion=a.apiVersion||"2016-03-30",this.aDCOperations=new ADCOperationsImpl(this),this.aDCCatalogs=new ADCCatalogsImpl(this),this.addCustomApiVersionPolicy(a.apiVersion)}addCustomApiVersionPolicy(i){i&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(a,r){return tslib.__awaiter(this,void 0,void 0,function*(){var e,t=a.url.split("?");return 1<t.length&&(e=t[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+i:e),a.url=t[0]+"?"+e.join("&")),r(a)})}})}}exports.DataCatalogRestClient=DataCatalogRestClient;