"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline"),tslib=require("tslib"),coreLro=require("@azure/core-lro");function _interopNamespace(r){if(r&&r.__esModule)return r;var s=Object.create(null);return r&&Object.keys(r).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(r,e),Object.defineProperty(s,e,t.get?t:{enumerable:!0,get:function(){return r[e]}}))}),s.default=r,Object.freeze(s)}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);exports.KnownOrigin=void 0,function(e){e.User="user",e.System="system",e.UserSystem="user,system"}(exports.KnownOrigin||(exports.KnownOrigin={})),exports.KnownActionType=void 0,(exports.KnownActionType||(exports.KnownActionType={})).Internal="Internal",exports.KnownResourceState=void 0,function(e){e.Succeeded="Succeeded",e.Failed="Failed",e.Canceled="Canceled",e.Deleted="Deleted"}(exports.KnownResourceState||(exports.KnownResourceState={})),exports.KnownSystemAssignedServiceIdentityType=void 0,function(e){e.None="None",e.SystemAssigned="SystemAssigned"}(exports.KnownSystemAssignedServiceIdentityType||(exports.KnownSystemAssignedServiceIdentityType={})),exports.KnownCreatedByType=void 0,function(e){e.User="User",e.Application="Application",e.ManagedIdentity="ManagedIdentity",e.Key="Key"}(exports.KnownCreatedByType||(exports.KnownCreatedByType={}));const OperationListResult={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Operation={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",readOnly:!0,type:{name:"String"}},isDataAction:{serializedName:"isDataAction",readOnly:!0,type:{name:"Boolean"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}},origin:{serializedName:"origin",readOnly:!0,type:{name:"String"}},actionType:{serializedName:"actionType",readOnly:!0,type:{name:"String"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",readOnly:!0,type:{name:"String"}},resource:{serializedName:"resource",readOnly:!0,type:{name:"String"}},operation:{serializedName:"operation",readOnly:!0,type:{name:"String"}},description:{serializedName:"description",readOnly:!0,type:{name:"String"}}}}},ErrorResponse={type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorDetail"}}}}},ErrorDetail={type:{name:"Composite",className:"ErrorDetail",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorDetail"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},ErrorAdditionalInfo={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},LoadTestResourcePageList={type:{name:"Composite",className:"LoadTestResourcePageList",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"LoadTestResource"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},SystemAssignedServiceIdentity={type:{name:"Composite",className:"SystemAssignedServiceIdentity",modelProperties:{principalId:{serializedName:"principalId",readOnly:!0,type:{name:"Uuid"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"Uuid"}},type:{serializedName:"type",required:!0,type:{name:"String"}}}}},Resource={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},systemData:{serializedName:"systemData",type:{name:"Composite",className:"SystemData"}}}}},SystemData={type:{name:"Composite",className:"SystemData",modelProperties:{createdBy:{serializedName:"createdBy",type:{name:"String"}},createdByType:{serializedName:"createdByType",type:{name:"String"}},createdAt:{serializedName:"createdAt",type:{name:"DateTime"}},lastModifiedBy:{serializedName:"lastModifiedBy",type:{name:"String"}},lastModifiedByType:{serializedName:"lastModifiedByType",type:{name:"String"}},lastModifiedAt:{serializedName:"lastModifiedAt",type:{name:"DateTime"}}}}},LoadTestResourcePatchRequestBody={type:{name:"Composite",className:"LoadTestResourcePatchRequestBody",modelProperties:{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"any"}}}},identity:{serializedName:"identity",type:{name:"Composite",className:"SystemAssignedServiceIdentity"}},properties:{serializedName:"properties",type:{name:"Composite",className:"LoadTestResourcePatchRequestBodyProperties"}}}}},LoadTestResourcePatchRequestBodyProperties={type:{name:"Composite",className:"LoadTestResourcePatchRequestBodyProperties",modelProperties:{description:{constraints:{MaxLength:512},serializedName:"description",type:{name:"String"}}}}},TrackedResource={type:{name:"Composite",className:"TrackedResource",modelProperties:Object.assign(Object.assign({},Resource.type.modelProperties),{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},location:{serializedName:"location",required:!0,type:{name:"String"}}})}},LoadTestResource={type:{name:"Composite",className:"LoadTestResource",modelProperties:Object.assign(Object.assign({},TrackedResource.type.modelProperties),{identity:{serializedName:"identity",type:{name:"Composite",className:"SystemAssignedServiceIdentity"}},description:{constraints:{MaxLength:512},serializedName:"properties.description",type:{name:"String"}},provisioningState:{serializedName:"properties.provisioningState",readOnly:!0,type:{name:"String"}},dataPlaneURI:{constraints:{MaxLength:2083},serializedName:"properties.dataPlaneURI",readOnly:!0,type:{name:"String"}}})}};var Mappers=Object.freeze({__proto__:null,OperationListResult:OperationListResult,Operation:Operation,OperationDisplay:OperationDisplay,ErrorResponse:ErrorResponse,ErrorDetail:ErrorDetail,ErrorAdditionalInfo:ErrorAdditionalInfo,LoadTestResourcePageList:LoadTestResourcePageList,SystemAssignedServiceIdentity:SystemAssignedServiceIdentity,Resource:Resource,SystemData:SystemData,LoadTestResourcePatchRequestBody:LoadTestResourcePatchRequestBody,LoadTestResourcePatchRequestBodyProperties:LoadTestResourcePatchRequestBodyProperties,TrackedResource:TrackedResource,LoadTestResource:LoadTestResource});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2021-12-01-preview",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},subscriptionId={parameterPath:"subscriptionId",mapper:{constraints:{MinLength:1},serializedName:"subscriptionId",required:!0,type:{name:"String"}}},resourceGroupName={parameterPath:"resourceGroupName",mapper:{constraints:{MaxLength:90,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},loadTestName={parameterPath:"loadTestName",mapper:{serializedName:"loadTestName",required:!0,type:{name:"String"}}},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},loadTestResource={parameterPath:"loadTestResource",mapper:LoadTestResource},loadTestResourcePatchRequestBody={parameterPath:"loadTestResourcePatchRequestBody",mapper:LoadTestResourcePatchRequestBody};class OperationsImpl{constructor(e){this.client=e}list(e){const t=this.listPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listPagingPage(e)}}listPagingPage(r){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._list(r));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listNext(t,r)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var r,s=tslib.__asyncValues(this.listPagingPage(i));!(r=yield tslib.__await(s.next())).done;){var a=r.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(a)))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=s.return)&&(yield tslib.__await(e.call(s)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/providers/Microsoft.LoadTestService/operations",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$1},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:OperationListResult},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer$1};class LroImpl{constructor(e,t,r,s=r.path,a=r.httpMethod){this.sendOperationFn=e,this.args=t,this.spec=r,this.requestPath=s,this.requestMethod=a}sendInitialRequest(){return tslib.__awaiter(this,void 0,void 0,function*(){return this.sendOperationFn(this.args,this.spec)})}sendPollRequest(t){return tslib.__awaiter(this,void 0,void 0,function*(){var e=this.spec,e=tslib.__rest(e,["requestBody"]);return this.sendOperationFn(this.args,Object.assign(Object.assign({},e),{path:t,httpMethod:"GET"}))})}}class LoadTestsImpl{constructor(e){this.client=e}listBySubscription(e){const t=this.listBySubscriptionPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listBySubscriptionPagingPage(e)}}listBySubscriptionPagingPage(r){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._listBySubscription(r));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listBySubscriptionNext(t,r)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listBySubscriptionPagingAll(i){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var r,s=tslib.__asyncValues(this.listBySubscriptionPagingPage(i));!(r=yield tslib.__await(s.next())).done;){var a=r.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(a)))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=s.return)&&(yield tslib.__await(e.call(s)))}finally{if(t)throw t.error}}})}listByResourceGroup(e,t){const r=this.listByResourceGroupPagingAll(e,t);return{next(){return r.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listByResourceGroupPagingPage(e,t)}}listByResourceGroupPagingPage(r,s){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._listByResourceGroup(r,s));yield yield tslib.__await(e.value||[]);let t=e.nextLink;for(;t;)e=yield tslib.__await(this._listByResourceGroupNext(r,t,s)),t=e.nextLink,yield yield tslib.__await(e.value||[])})}listByResourceGroupPagingAll(i,o){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var r,s=tslib.__asyncValues(this.listByResourceGroupPagingPage(i,o));!(r=yield tslib.__await(s.next())).done;){var a=r.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(a)))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=s.return)&&(yield tslib.__await(e.call(s)))}finally{if(t)throw t.error}}})}_listBySubscription(e){return this.client.sendOperationRequest({options:e},listBySubscriptionOperationSpec)}_listByResourceGroup(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},listByResourceGroupOperationSpec)}get(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,loadTestName:t,options:r},getOperationSpec)}createOrUpdate(e,t,r,s){return this.client.sendOperationRequest({resourceGroupName:e,loadTestName:t,loadTestResource:r,options:s},createOrUpdateOperationSpec)}update(e,t,r,s){return this.client.sendOperationRequest({resourceGroupName:e,loadTestName:t,loadTestResourcePatchRequestBody:r,options:s},updateOperationSpec)}beginDelete(r,s,a){return tslib.__awaiter(this,void 0,void 0,function*(){const i=(e,t)=>tslib.__awaiter(this,void 0,void 0,function*(){return this.client.sendOperationRequest(e,t)});var e=new LroImpl((t,a)=>tslib.__awaiter(this,void 0,void 0,function*(){let r=void 0;const s=null==(e=t.options)?void 0:e.onResponse;var e=Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),{onResponse:(e,t)=>{r=e,null!==s&&void 0!==s&&s(e,t)}})});return{flatResponse:yield i(e,a),rawResponse:{statusCode:r.status,body:r.parsedBody,headers:r.headers.toJSON()}}}),{resourceGroupName:r,loadTestName:s,options:a},deleteOperationSpec);const t=new coreLro.LroEngine(e,{resumeFrom:null==a?void 0:a.resumeFrom,intervalInMs:null==a?void 0:a.updateIntervalInMs});return yield t.poll(),t})}beginDeleteAndWait(t,r,s){return tslib.__awaiter(this,void 0,void 0,function*(){const e=yield this.beginDelete(t,r,s);return e.pollUntilDone()})}_listBySubscriptionNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listBySubscriptionNextOperationSpec)}_listByResourceGroupNext(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:t,options:r},listByResourceGroupNextOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),listBySubscriptionOperationSpec={path:"/subscriptions/{subscriptionId}/providers/Microsoft.LoadTestService/loadTests",httpMethod:"GET",responses:{200:{bodyMapper:LoadTestResourcePageList},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer},listByResourceGroupOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.LoadTestService/loadTests",httpMethod:"GET",responses:{200:{bodyMapper:LoadTestResourcePageList},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName],headerParameters:[accept],serializer:serializer},getOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.LoadTestService/loadTests/{loadTestName}",httpMethod:"GET",responses:{200:{bodyMapper:LoadTestResource},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,loadTestName],headerParameters:[accept],serializer:serializer},createOrUpdateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.LoadTestService/loadTests/{loadTestName}",httpMethod:"PUT",responses:{200:{bodyMapper:LoadTestResource},default:{bodyMapper:ErrorResponse}},requestBody:loadTestResource,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,loadTestName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},updateOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.LoadTestService/loadTests/{loadTestName}",httpMethod:"PATCH",responses:{200:{bodyMapper:LoadTestResource},default:{bodyMapper:ErrorResponse}},requestBody:loadTestResourcePatchRequestBody,queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,loadTestName],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer},deleteOperationSpec={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.LoadTestService/loadTests/{loadTestName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId,resourceGroupName,loadTestName],headerParameters:[accept],serializer:serializer},listBySubscriptionNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:LoadTestResourcePageList},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,nextLink,subscriptionId],headerParameters:[accept],serializer:serializer},listByResourceGroupNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:LoadTestResourcePageList},default:{bodyMapper:ErrorResponse}},queryParameters:[apiVersion],urlParameters:[$host,nextLink,subscriptionId,resourceGroupName],headerParameters:[accept],serializer:serializer};class LoadTestClient extends coreClient__namespace.ServiceClient{constructor(e,t,r){if(void 0===e)throw new Error("'credentials' cannot be null");if(void 0===t)throw new Error("'subscriptionId' cannot be null");var e={requestContentType:"application/json; charset=utf-8",credential:e},s="azsdk-js-arm-loadtestservice/1.0.0-beta.2",s=(r=r||{}).userAgentOptions&&r.userAgentOptions.userAgentPrefix?r.userAgentOptions.userAgentPrefix+" "+s:s,e=(r.credentialScopes||(r.credentialScopes=["https://management.azure.com/.default"]),Object.assign(Object.assign(Object.assign({},e),r),{userAgentOptions:{userAgentPrefix:s},baseUri:null!=(s=null!=(e=r.endpoint)?e:r.baseUri)?s:"https://management.azure.com"}));if(super(e),null!=r&&r.pipeline&&0<r.pipeline.getOrderedPolicies().length){const a=r.pipeline.getOrderedPolicies();a.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({scopes:e.baseUri+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}})))}this.subscriptionId=t,this.$host=r.$host||"https://management.azure.com",this.apiVersion=r.apiVersion||"2021-12-01-preview",this.operations=new OperationsImpl(this),this.loadTests=new LoadTestsImpl(this)}}exports.LoadTestClient=LoadTestClient;